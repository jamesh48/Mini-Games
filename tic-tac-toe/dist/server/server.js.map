{"version":3,"file":"server.js","mappings":"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","sources":["webpack://tic-tac-toe/./globalUtils.js","webpack://tic-tac-toe/./src/public/components/BoardComponents/Board.js","webpack://tic-tac-toe/./src/public/components/BoardComponents/BoardStore/boardReducers.js","webpack://tic-tac-toe/./src/public/components/BoardComponents/BoardStore/boardStore.js","webpack://tic-tac-toe/./src/public/components/BoardComponents/winDetectionUtils.js","webpack://tic-tac-toe/./src/public/components/MainComponents/MainComponent.js","webpack://tic-tac-toe/./src/public/components/MainComponents/MainStore/mainReducers.js","webpack://tic-tac-toe/./src/public/components/MainComponents/MainStore/mainStore.js","webpack://tic-tac-toe/./src/public/components/PlayerHeaderComponents/PlayerHeaderStore/playerHeaderReducers.js","webpack://tic-tac-toe/./src/public/components/PlayerHeaderComponents/PlayerHeaderStore/playerHeaderStore.js","webpack://tic-tac-toe/./src/public/components/PlayerHeaderComponents/PlayerHeaders.js","webpack://tic-tac-toe/./src/public/components/PlayerNameEntryComponents/PlayerNameEntry.js","webpack://tic-tac-toe/./src/public/components/TicTacToe.js","webpack://tic-tac-toe/./src/server/template.js","webpack://tic-tac-toe/./src/public/components/BoardComponents/board.scss","webpack://tic-tac-toe/./src/public/components/MainComponents/main-styles/global.scss","webpack://tic-tac-toe/./src/public/components/MainComponents/main-styles/main.scss","webpack://tic-tac-toe/./src/public/components/MainComponents/main-styles/reset.scss","webpack://tic-tac-toe/./src/public/components/PlayerHeaderComponents/playerHeaders.scss","webpack://tic-tac-toe/./src/public/components/PlayerNameEntryComponents/playerNameEntry.scss","webpack://tic-tac-toe/external commonjs \"express\"","webpack://tic-tac-toe/external commonjs \"react\"","webpack://tic-tac-toe/external commonjs \"react-dom/server\"","webpack://tic-tac-toe/external node-commonjs \"path\"","webpack://tic-tac-toe/webpack/bootstrap","webpack://tic-tac-toe/webpack/runtime/compat get default export","webpack://tic-tac-toe/webpack/runtime/define property getters","webpack://tic-tac-toe/webpack/runtime/hasOwnProperty shorthand","webpack://tic-tac-toe/webpack/runtime/make namespace object","webpack://tic-tac-toe/./src/server/index.js"],"sourcesContent":["import React from 'react';\n// https://www.robinwieruch.de/react-useeffect-only-on-update\nconst useEffectOnlyOnUpdate = (callback, dependencies, args) => {\n  const didMount = React.useRef(false);\n\n  React.useEffect(() => {\n    if (didMount.current) {\n      callback(args);\n    } else {\n      didMount.current = true;\n    }\n  }, [...dependencies]);\n};\n\nexport { useEffectOnlyOnUpdate };","import React, { useEffect } from 'react';\nimport { useBoardContext } from 'BoardStore';\nimport { useMainContext } from 'MainStore';\nimport { useEffectOnlyOnUpdate } from 'GlobalUtils';\nimport { checkHorizontal, checkVertical, checkRightDiagonal, checkLeftDiagonal } from './winDetectionUtils.js';\nimport './board.scss';\n\nexport default () => {\n  const [{ currentPlayerMove, confirmedBoxes }, boardDispatch] = useBoardContext();\n  const [{ xPlayerName, oPlayerName, hasAlreadyWon }, mainDispatch] = useMainContext();\n\n  useEffectOnlyOnUpdate(() => {\n    boardDispatch({ type: 'TOGGLE CURRENT PLAYER MOVE' });\n  }, [confirmedBoxes]);\n\n  useEffectOnlyOnUpdate(() => {\n    // currentPlayerMove === 'X' ? alert(`${(nameEntry?.xPlayer || 'X')} wins the Game!`) : alert(`${(nameEntry?.oPlayer || 'O')} wins the Game!`);\n    // gamePlayMethods.updateScoreBoard(player);\n    alert(hasAlreadyWon + ' wins the game!');\n  }, [hasAlreadyWon]);\n\n  detect_win: useEffectOnlyOnUpdate(() => {\n    confirmedBoxes.forEach((box, boxIndex) => {\n      if (box.mark === currentPlayerMove) {\n        let horizontalWin, verticalWin, rightDiagonalWin, leftDiagonalWin = false;\n\n        if (boxIndex === 0 || boxIndex === 3 || boxIndex === 6) {\n          horizontalWin = checkHorizontal(boxIndex, confirmedBoxes, currentPlayerMove);\n        }\n\n        if (boxIndex === 0 || boxIndex === 1 || boxIndex === 2) {\n          verticalWin = checkVertical(boxIndex, confirmedBoxes, currentPlayerMove);\n        };\n\n        if (boxIndex === 0) {\n          rightDiagonalWin = checkRightDiagonal(boxIndex, confirmedBoxes, currentPlayerMove);\n        };\n\n        if (boxIndex === 2) {\n          leftDiagonalWin = checkLeftDiagonal(boxIndex, confirmedBoxes, currentPlayerMove);\n        };\n\n        if (horizontalWin || verticalWin || rightDiagonalWin || leftDiagonalWin) {\n          mainDispatch({ type: 'TOGGLE HAS ALREADY WON TRUE', payload: currentPlayerMove === 'X' ? (xPlayerName || 'X') : (oPlayerName || 'O') })\n          // gamePlayMethods.annouceWinner(player);\n        }\n\n      }\n    })\n  }, [confirmedBoxes])\n\n  const handleClick = () => {\n    event.preventDefault();\n    let { target: { id } } = event;\n    let testId = id.split('-')[1];\n\n\n    if (hasAlreadyWon || confirmedBoxes[testId].confirmed) return;\n    boardDispatch({ type: 'CONFIRM NEW BOX', payload: { id: testId, mark: currentPlayerMove } })\n    // var player = gamePlayMethods.countMoves(e);\n    // setTimeout(() => { gamePlayMethods.detectWin(player) }, 1);\n  };\n\n  return (\n    <div id='board'>\n      {\n        ['a', 'b', 'c'].map((row, rowIndex) => (\n          <div key={rowIndex} className='board-row'>\n            {\n              ['d', 'e', 'f'].map((column, columnIndex) => {\n                const currBox = ((rowIndex * 2) + (columnIndex + rowIndex));\n                return <span onClick={handleClick} key={columnIndex} className='boxes' id={`box-${currBox}`}>\n                  {confirmedBoxes[currBox].confirmed ? confirmedBoxes[currBox].mark : null}\n                </span>\n              })\n            }\n          </div>\n        )\n        )\n      }\n\n    </div>\n  )\n}\n","const reduceReducers = (...reducers) => {\n  return (state, action) => reducers.reduce((acc, nextReducer) => nextReducer(acc, action), state)\n};\n\nconst currentPlayerMove = (state = 'X', action) => {\n  switch (action.type) {\n    case 'TOGGLE CURRENT PLAYER MOVE':\n      return state === 'X' ? 'O' : 'X';\n    default:\n      return state;\n  }\n};\n\nconst confirmedBoxes = (state =\n  [\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null }\n  ]\n  , action) => {\n  switch (action.type) {\n    case 'CONFIRM NEW BOX':\n      let existing = state.slice();\n      existing[action.payload.id] = { confirmed: true, mark: action.payload.mark };\n      return existing;\n    default:\n      return state;\n  }\n}\n\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\nexport default combineReducers({ currentPlayerMove, confirmedBoxes });\n\n","// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nimport React, { useReducer } from 'react';\nimport CombinedReducers from './boardReducers.js';\nconst BoardStoreContext = React.createContext();\n\nconst initialState = {\n  currentPlayerMove: 'X',\n  confirmedBoxes: [\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null },\n    { confirmed: false, mark: null }\n  ]\n};\n\nconst BoardStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n  const store = React.useMemo(() => [state, dispatch], [state]);\n  return (\n    <BoardStoreContext.Provider value={store}>{children}</BoardStoreContext.Provider>\n  );\n};\n\nconst useBoardContext = () => {\n  const context = React.useContext(BoardStoreContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context;\n};\n\n\nexport { useBoardContext, BoardStoreProvider };","const checkHorizontal = (id, confirmedBoxes, player) => {\n  const secondBox = confirmedBoxes[id + 1].mark;\n  const thirdBox = confirmedBoxes[id + 2].mark;\n\n  if (secondBox === player && thirdBox === player) {\n    return true;\n  }\n};\n\nconst checkVertical = (id, confirmedBoxes, player) => {\n  const secondBox = confirmedBoxes[id + 3].mark;\n  const thirdBox = confirmedBoxes[id + 6].mark;\n  if (secondBox === player && thirdBox === player) {\n    return true;\n  }\n};\n\nconst checkRightDiagonal = (id, confirmedBoxes, player) => {\n  const secondBox = confirmedBoxes[id + 4].mark;\n  const thirdBox = confirmedBoxes[id + 8].mark;\n\n  if (secondBox === player && thirdBox === player) {\n    return true;\n  };\n};\n\nconst checkLeftDiagonal = (id, confirmedBoxes, player) => {\n  const secondBox = confirmedBoxes[id + 2].mark;\n  const thirdBox = confirmedBoxes[id + 4].mark;\n\n  if (secondBox === player && thirdBox === player) {\n    return true;\n  };\n};\n\nexport { checkHorizontal, checkVertical, checkLeftDiagonal, checkRightDiagonal };","import React from 'react';\n// Player Header\nimport PlayerHeaderComponent from '../PlayerHeaderComponents/PlayerHeaders.js';\nimport { PlayerHeaderStoreProvider } from '../PlayerHeaderComponents/PlayerHeaderStore/playerHeaderStore.js';\n\n// Board\nimport { BoardStoreProvider } from '../BoardComponents/BoardStore/boardStore.js';\nimport Board from '../BoardComponents/Board.js';\n\nimport PlayerNameEntry from 'Components/PlayerNameEntryComponents/PlayerNameEntry.js';\n\nimport './main-styles/reset.scss';\nimport './main-styles/main.scss';\nimport './main-styles/global.scss';\n\nexport default () => {\n  return (\n    <div id='container'>\n      <PlayerHeaderStoreProvider>\n        <PlayerHeaderComponent />\n      </PlayerHeaderStoreProvider>\n\n      <BoardStoreProvider>\n        <Board />\n      </BoardStoreProvider>\n\n      <PlayerNameEntry />\n    </div>\n  )\n}","const reduceReducers = (...reducers) => {\n  return (state, action) => reducers.reduce((acc, nextReducer) => nextReducer(acc, action), state)\n};\n\nconst hasAlreadyWon = (state = null, action) => {\n  switch (action.type) {\n    case 'TOGGLE HAS ALREADY WON TRUE':\n      return action.payload;\n    default:\n      return state;\n  };\n};\n\n\nconst xPlayerName = (state = null, action) => {\n  switch (action.type) {\n    case 'SUBMIT X PLAYER NAME':\n      return action.payload;\n    default:\n      return state;\n  };\n};\n\nconst oPlayerName = (state = null, action) => {\n  switch (action.type) {\n    case 'SUBMIT O PLAYER NAME':\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\nexport default combineReducers({ hasAlreadyWon, xPlayerName, oPlayerName });\n\n","// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nimport React, { useReducer } from 'react';\nimport CombinedReducers from './mainReducers.js';\nconst MainStoreContext = React.createContext();\n\nconst initialState = {\n  hasAlreadyWon: null,\n  xPlayerName: null,\n  oPlayerName: null\n};\n\nconst MainStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n  const store = React.useMemo(() => [state, dispatch], [state]);\n  return (\n    <MainStoreContext.Provider value={store}>{children}</MainStoreContext.Provider>\n  );\n};\n\nconst useMainContext = () => {\n  const context = React.useContext(MainStoreContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context;\n};\n\n\nexport { useMainContext, MainStoreProvider };","const reduceReducers = (...reducers) => {\n  return (state, action) => reducers.reduce((acc, nextReducer) => nextReducer(acc, action), state)\n};\n\nconst xPlayerWinCount = (state = 0, action) => {\n  switch (action.type) {\n    case 'INCREMENT X PLAYER WIN COUNT':\n      return state + 1;\n    default:\n      return state;\n  };\n};\n\nconst oPlayerWinCount = (state = 0, action) => {\n  switch (action.type) {\n    case 'INCREMENT O PLAYER WIN COUNT':\n      return state + 1;\n    default:\n      return state;\n  };\n};\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\nexport default combineReducers({ xPlayerWinCount, oPlayerWinCount });\n\n","// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nimport React, { useReducer } from 'react';\nimport CombinedReducers from './playerHeaderReducers.js';\n\nconst PlayerHeaderContext = React.createContext();\n\nconst initialState = {\n  oPlayerWinCount: 0,\n  xPlayerWinCount: 0\n};\n\nconst PlayerHeaderStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n  const store = React.useMemo(() => [state, dispatch], [state]);\n  return (\n    <PlayerHeaderContext.Provider value={store}>{children}</PlayerHeaderContext.Provider>\n  );\n};\n\nconst usePlayerHeaderContext = () => {\n  const context = React.useContext(PlayerHeaderContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context;\n};\n\n\nexport { usePlayerHeaderContext, PlayerHeaderStoreProvider };","import React from 'react';\nimport { usePlayerHeaderContext } from './PlayerHeaderStore/playerHeaderStore.js';\nimport { useMainContext } from 'MainStore';\nimport './playerHeaders.scss';\n\nexport default () => {\n  const [{ xPlayerName, oPlayerName }] = useMainContext();\n\n  return (\n    <div id='player-headers'>\n      <span className='player-name-headers' id='p1-name-header'>{xPlayerName || 'X Player-> '}\n        <h1 className='player-name-tally' id='p-x-tally'>0</h1>\n      </span>\n      <span className='player-name-headers' id='p2-name-header'>{oPlayerName || 'O Player-> '}\n        <p className='player-name-tally' id='p-o-tally'>0</p>\n      </span>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { useMainContext } from 'MainStore';\nimport './playerNameEntry.scss';\n\nexport default () => {\n  const [{xPlayerName, oPlayerName}, mainDispatch] = useMainContext();\n\n  const [localXPlayerName, setLocalXPlayerName] = useState('');\n  const [localOPlayerName, setLocalOPlayerName] = useState('');\n\n  const handleSubmit = () => {\n    event.preventDefault();\n    if (localXPlayerName && localOPlayerName) {\n      mainDispatch({ type: 'SUBMIT X PLAYER NAME', payload: localXPlayerName });\n      mainDispatch({ type: 'SUBMIT O PLAYER NAME', payload: localOPlayerName });\n    }\n  };\n\n  return (\n    <div id='player-name-entry'>\n      <legend id='enter-your-players'>Enter Your Players!</legend>\n      <form className=\"enter-players\" onSubmit={handleSubmit}>\n        <input className='player-name-input' autoComplete='off' id='p1' type='text' placeholder='X Player' value={localXPlayerName} onChange={() => {\n          return xPlayerName ? null :\n            setLocalXPlayerName(event.target.value);\n        }}></input>\n        <input className='player-name-input' autoComplete='off' id='p2' type='text' placeholder='O Player' value={localOPlayerName} onChange={() => {\n          return oPlayerName ? null :\n            setLocalOPlayerName(event.target.value);\n        }}></input>\n        <input className='player-name-input' autoComplete='off' id='board-size' type='text' placeholder='Board Width'></input>\n        <button type='submit' value='Submit' hidden>Submit Form</button>\n      </form>\n\n      <form>\n        <input id='new-game-button' type='button' value='New Game!'></input>\n      </form>\n    </div>\n  )\n}","import React from 'react';\nimport { MainStoreProvider } from './MainComponents/MainStore/mainStore.js';\nimport MainComponent from './MainComponents/MainComponent.js';\n\nexport default () => <MainStoreProvider><MainComponent /></MainStoreProvider>","// const { Cloudfront, DEV_ENV } = process.env;\n\n\nconst htmlStart = (data) => {\n  return (`<!DOCTYPE HTML>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <title>Tic Tac Toe</title>\n        <link rel='stylesheet' href='/static/index.css'/>\n      </head>\n    <body>\n    <div id=\"tictactoe-root\">`)\n};\n\n\nconst htmlEnd = () => (`</div>\n    </body>\n    <script src='/static/index.js'></script>\n</html>`);\n\nexport {\n  htmlStart,\n  htmlEnd\n}\n\n\n\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from 'express';\nimport path from 'path';\nimport React from 'react';\nimport TicTacToe from 'Components/TicTacToe.js';\nimport { htmlStart, htmlEnd } from './template.js';\nimport { renderToNodeStream } from 'react-dom/server';\n\nconst app = express();\n\napp.use('*', (req, res, next) => {\n  console.log(req.method, req.originalUrl);\n  next();\n});\n\napp.use('/static', express.static(path.resolve(__dirname, '../../dist/public')));\n\n\napp.get('/', (req, res) => {\n  const ticTacToeStream = renderToNodeStream(\n    <TicTacToe />\n  );\n\n  res.write(htmlStart());\n  ticTacToeStream.pipe(res, { end: false });\n  ticTacToeStream.on('end', () => {\n    res.write(htmlEnd());\n    res.end();\n  })\n})\n\nconst port = 3650;\napp.listen(port, () => console.log(`Tic Tac Toe App is listening on port ${port}`));\n"],"names":["React","useEffectOnlyOnUpdate","callback","dependencies","args","didMount","useRef","useEffect","current","useBoardContext","useMainContext","checkHorizontal","checkVertical","checkRightDiagonal","checkLeftDiagonal","currentPlayerMove","confirmedBoxes","boardDispatch","xPlayerName","oPlayerName","hasAlreadyWon","mainDispatch","type","alert","detect_win","forEach","box","boxIndex","mark","horizontalWin","verticalWin","rightDiagonalWin","leftDiagonalWin","payload","handleClick","event","preventDefault","id","target","testId","split","confirmed","map","row","rowIndex","column","columnIndex","currBox","reduceReducers","reducers","state","action","reduce","acc","nextReducer","existing","slice","combineReducers","slices","Object","keys","prop","useReducer","CombinedReducers","BoardStoreContext","createContext","initialState","BoardStoreProvider","children","dispatch","store","useMemo","context","useContext","undefined","Error","player","secondBox","thirdBox","PlayerHeaderComponent","PlayerHeaderStoreProvider","Board","PlayerNameEntry","MainStoreContext","MainStoreProvider","xPlayerWinCount","oPlayerWinCount","PlayerHeaderContext","usePlayerHeaderContext","useState","localXPlayerName","setLocalXPlayerName","localOPlayerName","setLocalOPlayerName","handleSubmit","value","MainComponent","htmlStart","data","htmlEnd","express","path","TicTacToe","renderToNodeStream","app","use","req","res","next","console","log","method","originalUrl","resolve","__dirname","get","ticTacToeStream","write","pipe","end","on","port","listen"],"sourceRoot":""}