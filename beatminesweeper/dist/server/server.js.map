{"version":3,"file":"server.js","mappings":"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","sources":["webpack://beatminesweeper.app/./db/config/config.js","webpack://beatminesweeper.app/./db/controllers/controllers.js","webpack://beatminesweeper.app/./db/models/advanced_scores_model.js","webpack://beatminesweeper.app/./db/models/beginner_scores_model.js","webpack://beatminesweeper.app/./db/models/intermediate_scores_model.js","webpack://beatminesweeper.app/./db/models/user_login_model.js","webpack://beatminesweeper.app/./src/components/Board/Board.js","webpack://beatminesweeper.app/./src/components/Board/BoardStore/boardActions.js","webpack://beatminesweeper.app/./src/components/Board/BoardStore/boardReducers.js","webpack://beatminesweeper.app/./src/components/Board/BoardStore/boardStore.js","webpack://beatminesweeper.app/./src/components/Board/Squares/BoardSquare.js","webpack://beatminesweeper.app/./src/components/Board/Squares/squareUtils.js","webpack://beatminesweeper.app/./src/components/Board/useEffectBoardHooks.js","webpack://beatminesweeper.app/./src/components/Leaderboard/LeaderBoard.js","webpack://beatminesweeper.app/./src/components/Leaderboard/LeaderBoardEntry.js","webpack://beatminesweeper.app/./src/components/MillisecondTimer/MillisecondTimer.js","webpack://beatminesweeper.app/./src/components/MillisecondTimer/TimerStore/timerReducers.js","webpack://beatminesweeper.app/./src/components/MillisecondTimer/TimerStore/timerStore.js","webpack://beatminesweeper.app/./src/components/MillisecondTimer/postResult.js","webpack://beatminesweeper.app/./src/components/Minesweeper/Minesweeper.js","webpack://beatminesweeper.app/./src/components/SkillLevelSelector/SkillLevelSelector.js","webpack://beatminesweeper.app/./src/components/SmileyBar/SmileyBar.js","webpack://beatminesweeper.app/./src/components/UserNameEntry/UserNameEntry.js","webpack://beatminesweeper.app/./src/components/UserNameEntry/UserNameStore/userNameReducers.js","webpack://beatminesweeper.app/./src/components/UserNameEntry/UserNameStore/userNameStore.js","webpack://beatminesweeper.app/./src/components/customHooks.js","webpack://beatminesweeper.app/./src/ssr-server/routes.js","webpack://beatminesweeper.app/./src/ssr-server/template.js","webpack://beatminesweeper.app/./src/store/GlobalStore.js","webpack://beatminesweeper.app/./src/store/globalReducers.js","webpack://beatminesweeper.app/./src/components/Board/Squares/sweepsquarestyles.scss?f130","webpack://beatminesweeper.app/./src/components/Board/boardstyles.scss?aa3b","webpack://beatminesweeper.app/./src/components/Leaderboard/leaderboard.scss?1471","webpack://beatminesweeper.app/./src/components/MillisecondTimer/millisecondstyles.scss?1e5d","webpack://beatminesweeper.app/./src/components/Minesweeper/minesweeper.scss?dc60","webpack://beatminesweeper.app/./src/components/SkillLevelSelector/skillstyles.scss?5ad0","webpack://beatminesweeper.app/./src/components/SmileyBar/smileystyles.scss?92a6","webpack://beatminesweeper.app/./src/components/UserNameEntry/loginstyles.scss?e0fa","webpack://beatminesweeper.app/external \"axios\"","webpack://beatminesweeper.app/external \"cors\"","webpack://beatminesweeper.app/external \"dotenv\"","webpack://beatminesweeper.app/external \"express\"","webpack://beatminesweeper.app/external \"path\"","webpack://beatminesweeper.app/external \"react\"","webpack://beatminesweeper.app/external \"react-dom/server\"","webpack://beatminesweeper.app/external \"regenerator-runtime\"","webpack://beatminesweeper.app/external \"sequelize\"","webpack://beatminesweeper.app/webpack/bootstrap","webpack://beatminesweeper.app/webpack/runtime/compat get default export","webpack://beatminesweeper.app/webpack/runtime/define property getters","webpack://beatminesweeper.app/webpack/runtime/hasOwnProperty shorthand","webpack://beatminesweeper.app/webpack/runtime/make namespace object","webpack://beatminesweeper.app/./src/ssr-server/index.js"],"sourcesContent":["require('dotenv').config({ path: require('path').resolve('.env') });\nconst Sequelize = require('sequelize');\n\nconst sequelize = new Sequelize(process.env.PGDATABASE, process.env.PGUSER, process.env.PGPASSWORD, {\n  host: process.env.PGHOST,\n  dialect: 'postgres',\n  logging: false,\n});\n\n(async () => {\n  try {\n    await sequelize.authenticate();\n    // console.log('Connection has been established successfully.');\n  } catch (error) {\n    console.error('Unable to connect to the database:', error);\n  }\n})()\n\nconst model = name => database.models[name];\n\nconst beginnerScores = require(`../models/beginner_scores_model.js`)(sequelize, Sequelize.DataTypes);\nconst intermediateScores = require(`../models/intermediate_scores_model.js`)(sequelize, Sequelize.DataTypes);\nconst advancedScores = require(`../models/advanced_scores_model.js`)(sequelize, Sequelize.DataTypes);\nconst userLogins = require('../models/user_login_model.js')(sequelize, Sequelize.DataTypes);\n\nmodule.exports = (database) = {\n  sequelize: sequelize,\n  models: { beginnerScores, intermediateScores, advancedScores, userLogins },\n  // connect,\n  model,\n};","const sequelize = require('Database/config/config.js');\n\nmodule.exports = {\n\n  postNewUser: async (userName, userPass) => {\n    try {\n      const { userLogins } = sequelize.models;\n      await userLogins.create({ username: userName, userPass: userPass });\n      return 'New User Posted!';\n    } catch (err) {\n      res.send(err);\n    }\n  },\n\n  validateUser: async (userName, userPass) => {\n    try {\n      const { userLogins } = sequelize.models;\n\n      const loginTest = await userLogins.findAll({\n        limit: 1,\n        where: { username: userName }\n      });\n\n      const loginPasswordTest = await userLogins.findAll({\n        limit: 1,\n        where: { username: userName, userPass: userPass }\n      });\n\n      if (loginTest.length !== 0 && !loginPasswordTest.length) return 'wrong password';\n      if (loginTest.length !== 0) return false;\n      return true;\n    } catch (err) {\n      throw err;\n    }\n  },\n\n  getResults: async (skillLevel, username) => {\n\n    try {\n      const { beginnerScores, intermediateScores, advancedScores } = sequelize.models;\n\n      let whereStatement = {}\n      if (username) whereStatement.username = username\n\n      const determinedSkillLevel =\n        skillLevel === 'beginner' || !skillLevel ? beginnerScores\n          : skillLevel === 'intermediate' ? intermediateScores\n            : advancedScores;\n\n      const scoreResults = await determinedSkillLevel.findAll({\n        where: whereStatement,\n        limit: 10,\n        order: [\n          ['time', 'ASC'],\n        ],\n      });\n      return scoreResults;\n    } catch (err) {\n      throw err;\n    }\n  },\n\n  postResult: async (skillLevel, time, definedUserName) => {\n    const { beginnerScores, intermediateScores, advancedScores } = sequelize.models;\n\n    const determinedSkillLevel =\n      skillLevel === 'beginner' ? beginnerScores\n        : skillLevel === 'intermediate' ? intermediateScores\n          : advancedScores;\n\n    try {\n      await determinedSkillLevel.create({\n        username: definedUserName,\n        time: time\n      });\n\n      const newTopTimes = await determinedSkillLevel.findAll({\n        limit: 10,\n        order: [\n          ['time', 'ASC'],\n        ]\n      });\n      return newTopTimes;\n    } catch (err) {\n      console.log(err);\n      throw err;\n    }\n  }\n}","module.exports = (sequelize, DataTypes) => {\n  const AdvancedScores = sequelize.define(`advanced_scores`, {\n    username: {\n      type: DataTypes.STRING,\n    },\n    time: {\n      type: DataTypes.INTEGER,\n    },\n  }, {\n    timestamps: false\n  });\n\n  return AdvancedScores;\n};\n","module.exports = (sequelize, DataTypes) => {\n  const BeginnerScores = sequelize.define(`beginner_scores`, {\n    username: {\n      type: DataTypes.STRING,\n    },\n    time: {\n      type: DataTypes.INTEGER,\n    },\n  }, {\n    timestamps: false\n  });\n\n  return BeginnerScores;\n};\n","module.exports = (sequelize, DataTypes) => {\n  const IntermediateScores = sequelize.define(`intermediate_scores`, {\n    username: {\n      type: DataTypes.STRING,\n    },\n    time: {\n      type: DataTypes.INTEGER,\n    },\n  }, {\n    timestamps: false\n  });\n\n  return IntermediateScores;\n};\n","module.exports = (sequelize, DataTypes) => {\n  const UserLogin = sequelize.define(`user_logins`, {\n    username: {\n      type: DataTypes.STRING,\n    },\n    userPass: {\n      type: DataTypes.STRING,\n    },\n  }, {\n    timestamps: false\n  });\n\n  return UserLogin;\n};\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\nimport Square from './Squares/BoardSquare.js';\nimport { useInterval } from 'Components/customHooks.js';\nimport BoardHooks from './useEffectBoardHooks.js';\nimport { useGlobalContext } from 'GlobalStore';\nimport { useBoardContext } from 'BoardStore';\nimport './boardstyles.scss';\n\n\nexport default () => {\n  const [globalState, globalDispatch] = useGlobalContext();\n  const [{ flippers, mines, numbers, scrollBoard, colorDelay }, boardDispatch] = useBoardContext();\n\n  const { dimensions, dimensions: { skillLevel }, timerOn, definedUserName } = globalState;\n\n  // Board Specific useEffects && actions.\n  BoardHooks.freezeColorDelayEffect(definedUserName, boardDispatch);\n  BoardHooks.stopColorIterationEffect(colorDelay, boardDispatch);\n  BoardHooks.freezeScrollBoardEffect(scrollBoard);\n  BoardHooks.generateMinesEffect(dimensions, boardDispatch);\n  BoardHooks.generateNumberEffect(mines, dimensions, boardDispatch);\n  BoardHooks.resetGameEffectOnSmileyOrSkill(timerOn, skillLevel, dimensions, boardDispatch);\n  BoardHooks.resetFlagsRemainingOnSkillChangeOrTimerOn(timerOn, skillLevel, boardDispatch);\n\n  const setScrollBoardCallback = useCallback(() => boardDispatch({ type: 'TOGGLE SCROLLBOARD' }), []);\n\n  // Mixed!\n  BoardHooks.revealFlipperEffect({ mines, flippers, numbers, globalDispatch, boardDispatch });\n\n  // Global Board useEffects\n  BoardHooks.resetOnSkillLevelChangeEffect(skillLevel, globalDispatch);\n\n  const handleScroll = _ => boardDispatch({ type: 'MODULATE COLOR DELAY', payload: { newColorDelay: event.deltaY } });\n\n  useInterval(() => boardDispatch({ type: 'ITERATE COLORS' }), colorDelay);\n\n\n  return (\n    <div\n      onWheel={colorDelay ? handleScroll : null}\n      onMouseEnter={colorDelay ? setScrollBoardCallback : null}\n      onMouseLeave={colorDelay ? setScrollBoardCallback : null}\n    >\n      {[...new Array(dimensions.verticalDimension)].map((row, rowIndex) => {\n        return (\n          <div key={rowIndex} className='sweep-row'>\n            {[...new Array(dimensions.horizontalDimension)].map((sqr, sqrIndex) => {\n              const currTile = ((rowIndex * dimensions.horizontalDimension) + sqrIndex);\n              return (\n                <Square\n                  key={sqrIndex}\n                  currTile={currTile}\n                />\n              )\n            })\n            }\n          </div >\n        )\n      })}\n    </div>\n  );\n}","const iterateColors = (existingColors) => {\n  const lastColor = existingColors.pop();\n  existingColors.unshift(lastColor);\n  return [...existingColors];\n};\n\nconst modulateColorDelay = (existing, newColorDelay) => {\n  if ((existing + newColorDelay) > 25) {\n    // If Increasing the Color Delay- do so at a rate of 1, otherwise when decreasing do so at 2.5 rate- full rate is less enjoyable\n    newColorDelay = newColorDelay < 0 && existing < 200 ? newColorDelay / 5\n      : newColorDelay < 0 ? newColorDelay / 2.5\n        : 1\n\n    return existing + newColorDelay;\n  }\n  return existing;\n};\n\n\nconst revealFlippers = (existingFlippers, mines) => {\n  existingFlippers = existingFlippers.map((flipper, index) => {\n    if (flipper === 'flag' || mines.includes(index)) {\n      return 'flag'\n    } else {\n      return true\n    }\n  });\n  return [...existingFlippers];\n};\n\nconst flipNormalTile = (existingFlippers, flippedTile) => {\n  existingFlippers.splice(flippedTile, 1, true);\n  return [...existingFlippers];\n};\n\nconst flipRecursedTiles = (existingFlippers, recursedTiles) => {\n  for (let i = 0; i < recursedTiles.length; i++) {\n    existingFlippers.splice(recursedTiles[i], 1, true);\n  }\n  return [...existingFlippers];\n};\n\nconst revealDeadFlippers = (existingFlippers) => {\n  existingFlippers = existingFlippers.map((flipper, index) => {\n    if (index === 0) {\n      return 'dead'\n    } else {\n      return true;\n    }\n  })\n  return [...existingFlippers]\n};\n\nconst setFlagFlipped = (existingFlippers, flagFlipped) => {\n  if (existingFlippers[flagFlipped] === 'flag') {\n    existingFlippers.splice(flagFlipped, 1, false);\n  } else {\n    existingFlippers.splice(flagFlipped, 1, 'flag');\n  }\n  return [...existingFlippers];\n};\n\n\nconst generateMines = ({ numberOfMines, verticalDimension, horizontalDimension }) => {\n  let mineArr = [];\n  while (mineArr.length < numberOfMines) {\n    const mineCanidate = Math.floor(Math.random() * (verticalDimension * horizontalDimension));\n    if (!mineArr.includes(mineCanidate)) {\n      mineArr.push(mineCanidate);\n    }\n  };\n  return mineArr;\n};\n\n\nconst generateNumbers = ({ mines, verticalDimension, horizontalDimension }) => {\n  let board = [...Array(verticalDimension * horizontalDimension).keys()];\n  let numBoard = {};\n\n  mines.forEach((mine, index, mineArr) => {\n    // Number is Top Left Diagonal\n    let tLD = horizontalDimension + 1;\n    if (board.includes(mine - tLD) && (((mine - tLD) + 1) % horizontalDimension !== 0) && !mineArr.includes(mine - tLD)) {\n      if (numBoard[mine - tLD]) {\n        numBoard[mine - tLD] = numBoard[mine - tLD] + 1;\n      } else {\n        numBoard[mine - tLD] = 1;\n      }\n    }\n\n    // Number is Above\n    const tD = horizontalDimension;\n    if (board.includes(mine - tD) && !mineArr.includes(mine - tD)) {\n      if (numBoard[mine - tD]) {\n        numBoard[mine - tD] = numBoard[mine - tD] + 1;\n      } else {\n        numBoard[mine - tD] = 1;\n      }\n    }\n\n    //Number is Top Right Diagonal\n    const tRD = horizontalDimension - 1;\n    if (board.includes(mine - tRD) && ((mine - tRD) % horizontalDimension !== 0) && !mineArr.includes(mine - tRD)) {\n      if (numBoard[mine - tRD]) {\n        numBoard[mine - tRD] = numBoard[mine - tRD] + 1;\n      } else {\n        numBoard[mine - tRD] = 1;\n      }\n    }\n\n    // Number to the right\n    if (board.includes(mine + 1) && ((mine + 1) % horizontalDimension !== 0) && !mineArr.includes(mine + 1)) {\n      if (numBoard[mine + 1]) {\n        numBoard[mine + 1] = numBoard[mine + 1] + 1;\n      } else {\n        numBoard[mine + 1] = 1;\n      }\n    }\n\n    // Number is Bottom Right Diagonal\n    const bRD = horizontalDimension + 1;\n    if (board.includes(mine + bRD) && ((mine + bRD) % horizontalDimension !== 0) && !mineArr.includes(mine + bRD)) {\n      if (numBoard[mine + bRD]) {\n        numBoard[mine + bRD] = numBoard[mine + bRD] + 1;\n      } else {\n        numBoard[mine + bRD] = 1;\n      }\n    }\n\n    // Number is Below\n    const bD = horizontalDimension;\n    if (board.includes(mine + bD) && !mineArr.includes(mine + bD)) {\n      if (numBoard[mine + bD]) {\n        numBoard[mine + bD] = numBoard[mine + bD] + 1;\n      } else {\n        numBoard[mine + bD] = 1;\n      }\n    }\n\n    //Number is Bottom Left Diagonal\n    const bLD = horizontalDimension - 1;\n    if (board.includes(mine + bLD) && (((mine + bLD) + 1) % horizontalDimension !== 0) && !mineArr.includes(mine + bLD)) {\n      if (numBoard[mine + bLD]) {\n        numBoard[mine + bLD] = numBoard[mine + bLD] + 1;\n      } else {\n        numBoard[mine + bLD] = 1;\n      }\n    }\n\n    // Number to the left\n    if (board.includes(mine - 1) && (mine % horizontalDimension !== 0) && !mineArr.includes(mine - 1)) {\n      if (numBoard[mine - 1]) {\n        numBoard[mine - 1] = numBoard[mine - 1] + 1;\n      } else {\n        numBoard[mine - 1] = 1;\n      }\n    }\n\n  })\n  return numBoard;\n};\n\n\nexport {\n  // Colors\n  iterateColors,\n  modulateColorDelay,\n  // Flippers\n  revealFlippers,\n  flipNormalTile,\n  flipRecursedTiles,\n  revealDeadFlippers,\n  setFlagFlipped,\n  // Mines\n  generateMines,\n  // Numbers\n  generateNumbers,\n};","import {\n  iterateColors,\n  modulateColorDelay,\n  revealFlippers,\n  flipNormalTile,\n  flipRecursedTiles,\n  revealDeadFlippers,\n  setFlagFlipped,\n  generateMines,\n  generateNumbers\n} from './boardActions.js';\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\n\nconst scrollBoard = (state = false, action) => {\n  switch (action.type) {\n    case 'TOGGLE SCROLLBOARD':\n      return !state;\n    default:\n      return state;\n  }\n};\n\nconst colorDelay = (state = 1000, { type, payload: { newColorDelay } = {} }) => {\n  switch (type) {\n    case \"UNSET COLOR DELAY\":\n      return null;\n    case \"MODULATE COLOR DELAY\":\n      return modulateColorDelay(state, newColorDelay)\n    default:\n      return state\n  };\n};\n\nconst colors = (state = ['blue-num', 'green-num', 'red-num', 'gold-num', 'purple-num', 'maroon-num', 'turquoise-num', 'grey-num'], action) => {\n  switch (action.type) {\n    case \"ITERATE COLORS\":\n      return iterateColors(state.slice());\n    case \"STOP COLOR ITERATION\":\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst flippers = (state, { type, payload, payload: { flagFlipped, flippedTile, mines } = {} }) => {\n  switch (type) {\n    case \"RESET FLIPPERS\":\n      return payload;\n    case \"SET FLAG FLIPPED\":\n      return setFlagFlipped(state.slice(), flagFlipped);\n    case \"FLIP NORMAL TILE\":\n      return flipNormalTile(state.slice(), flippedTile);\n    case \"FLIP RECURSED TILES\":\n      return flipRecursedTiles(state.slice(), payload);\n    case \"REVEAL DEAD FLIPPERS\":\n      return revealDeadFlippers(state.slice());\n    case \"REVEAL FLIPPERS\":\n      return revealFlippers(state.slice(), mines);\n    default:\n      return state;\n  };\n};\n\n// preloaded default state prevents an automatic win by default\nconst mines = (state = [1, 2, 3], { type, payload }) => {\n  switch (type) {\n    case \"GENERATE MINES\":\n      return generateMines(payload);\n    default:\n      return state;\n  }\n};\n\nconst numbers = (state = [4, 5, 6], { type, payload }) => {\n  switch (type) {\n    case \"GENERATE NUMBERS\":\n      return generateNumbers(payload)\n    default:\n      return state;\n  };\n};\n\nconst surprised = (state, action) => {\n  switch (action.type) {\n    case 'SURPRISED SMILES':\n      return true;\n    case 'RESET SMILES':\n      return false;\n    case 'DEAD SMILES':\n      return 'dead';\n    case 'VICTORY SMILES':\n      return 'victory';\n    default:\n      return state;\n  };\n};\n\nconst flagsRemaining = (state = 10, { type, payload }) => {\n  switch (type) {\n    case \"DECREMENT FLAGS REMAINING\":\n      return state - 1;\n    case \"INCREMENT FLAGS REMAINING\":\n      return state + 1;\n    case \"SET FLAGS REMAINING\":\n      return payload;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  flippers,\n  mines,\n  numbers,\n  scrollBoard,\n  colors,\n  colorDelay,\n  surprised,\n  flagsRemaining\n});\n","import React from 'react';\nimport CombinedReducers from './boardReducers.js';\n\nconst BoardContext = React.createContext();\n\nconst initialState = {\n  scrollBoard: false,\n  colorDelay: 1000,\n  flippers: [],\n  mines: [1,2,3],\n  numbers: [4,5,6],\n  surprised: false,\n  flagsRemaining: 10,\n  colors: ['blue-num', 'green-num', 'red-num', 'gold-num', 'purple-num', 'maroon-num', 'turquoise-num', 'grey-num']\n};\n\nconst BoardStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n\n  const store = React.useMemo(() => [state, dispatch], [state]);\n\n  return (\n    <BoardContext.Provider value={store}>{children}</BoardContext.Provider>\n  );\n};\n\nfunction useBoardContext() {\n  const context = React.useContext(BoardContext);\n  if (context === undefined) {\n    throw new Error('useBoardContext must be used within a CountProvider');\n  };\n  return context;\n}\n\n\n\n\nexport { useBoardContext, BoardStoreProvider };","import React, { useEffect, useContext } from 'react';\nimport { generateLoginMessage } from './squareUtils.js';\nimport { genNumberClassNames, genEmptyClassNames, genMineClassNames, handleClick } from './squareUtils.js';\nimport { useGlobalContext } from 'GlobalStore';\nimport { useBoardContext } from 'BoardStore';\nimport './sweepsquarestyles.scss';\n\nexport default React.memo(({ currTile }) => {\n\n  const [{ dimensions: { skillLevel }, definedUserName, dimensions, timerOn }, globalDispatch] = useGlobalContext();\n\n  const [{ surprised, flagsRemaining, colors, mines, flippers, numbers }, boardDispatch] = useBoardContext();\n\n\n  const tileIsAMine = mines.includes(currTile) && flippers[currTile] && flippers[currTile] !== 'flag';\n\n  const tileIsANumber = flippers[currTile] && flippers[currTile] !== 'flag' && numbers[currTile];\n\n  const userNotLoggedIn = !definedUserName;\n\n  return (\n    <div\n      data-testid={`test-${currTile}`}\n\n      onClick={\n        () => {\n          // If tile is a bomb...\n          if (mines.includes(currTile)) {\n            globalDispatch({ type: 'FREEZE TIMER STATE' });\n            return handleClick({\n              skillLevel,\n              dimensions,\n              mines,\n              numbers,\n              currTile,\n              indicator: 'dead',\n              boardDispatch\n            });\n          };\n          // Is a Number or a Empty Square\n          // If an empty space is revealed under a flag, increment remaining flags\n          if (flippers[currTile] === 'flag') boardDispatch({ type: 'INCREMENT FLAGS REMAINING' });\n          // Start the timer and reveal the tile\n          if (!timerOn) {\n            globalDispatch({ type: 'SWITCH TIMER ON' });\n\n            return handleClick({\n              skillLevel,\n              dimensions,\n              mines,\n              numbers,\n              currTile,\n              boardDispatch\n            });\n          };\n          // Normal Play\n          return handleClick({\n            skillLevel,\n            dimensions,\n            numbers,\n            mines,\n            currTile,\n            indicator: null,\n            boardDispatch\n          });\n        }\n      }\n\n      onMouseDown={\n        () => {\n          if (!flippers[currTile]) boardDispatch({ type: 'SURPRISED SMILES' })\n        }\n      }\n\n      onMouseUp={\n        () => {\n          // Mine- Death Sequence XD\n          if (mines.includes(currTile) && event.button === 0 && !event.ctrlKey) {\n            return boardDispatch({ type: 'DEAD SMILES' });\n          };\n          return boardDispatch({ type: 'RESET SMILES' });\n        }\n      }\n\n      onContextMenu={\n        () => {\n          //If number is already revealed- prevent user from putting a flag on it\n          if (flippers[currTile] !== true) {\n            boardDispatch({ type: flippers[currTile] === false ? 'DECREMENT FLAGS REMAINING' : 'INCREMENT FLAGS REMAINING' });\n            return handleClick({\n              skillLevel,\n              dimensions,\n              mines,\n              numbers,\n              currTile,\n              boardDispatch\n            });\n          };\n          // Prevent context menu if user accidentally presses context menu\n          event.preventDefault();\n        }\n      }\n\n      className={\n        mines.includes(currTile) ? genMineClassNames({\n          timerOn,\n          skillLevel,\n          definedUserName,\n          flippers,\n          colors,\n          currTile\n        })\n          : numbers[currTile] ? genNumberClassNames({\n            skillLevel,\n            definedUserName,\n            timerOn,\n            flippers,\n            numbers,\n            colors,\n            currTile\n          })\n            : genEmptyClassNames({\n              // Global\n              skillLevel,\n              definedUserName,\n              timerOn,\n              // Board & passed in\n              flippers,\n              colors,\n              currTile\n            })\n      }\n    >\n      {\n        userNotLoggedIn ?\n          generateLoginMessage({\n            currTile,\n            skillLevel,\n            flippers\n          })\n          : tileIsANumber ? numbers[currTile]\n            : tileIsAMine ? '*'\n              : null\n      }\n    </div >\n  );\n});\n","const generateLoginMessage = ({ currTile: t, skillLevel }) => {\n  const beginnerMessages = { '1': 'Please', '2': 'Login', '3': 'First' };\n  const intermediateMessages = { '2': 'Please', '4': 'Login', '6': 'First' };\n  const advancedMessages = { '2': 'Please', '3': 'Login', '4': 'First' };\n\n  if (skillLevel === 'beginner' && t < 81) {\n    return beginnerMessages[String(Math.floor(t / 10))]?.substring(t % 10, (t % 10) + 1) || '*';\n  };\n\n  if (skillLevel === 'intermediate' && t < 144) {\n    return intermediateMessages[String(Math.floor(t / 17))]?.substring(t % 17, (t % 17) + 1) || '*';\n  };\n\n  if (skillLevel === 'advanced' && t < 240) {\n    return advancedMessages[String(Math.floor(t / 31))]?.substring(t % 33.15, (t % 33.15) + 1) || '*';\n  };\n};\n\n\nconst generateColors = ({ currTile: t, colors, skillLevel }) => {\n  if (skillLevel === 'beginner') {\n    if ((t <= 9) || (t >= 16 && t <= 19) || (t >= 25 && t <= 29) || (t >= 35)) {\n      return colors[(t + (Math.floor(t / 8))) % 9]\n    }\n  }\n\n  if (skillLevel === 'intermediate') {\n    if ((t <= 33) || (t >= 40 && t <= 66) || (t >= 73 && t <= 99) || (t >= 107 && t <= 144)) {\n      return colors[(t + (Math.floor(t / 16))) % 8]\n    }\n  }\n\n  if (skillLevel === 'advanced') {\n    if ((t <= 66) || (t >= 73 && t <= 99) || (t >= 105 && t <= 132) || (t >= 138 && t <= 241)) {\n      return colors[(t + (Math.floor(t / 30))) % 8]\n    }\n  }\n};\n\nconst genNumberClassNames = ({\n  // Global\n  timerOn,\n  definedUserName,\n  skillLevel,\n  // Passed in\n  currTile,\n  // Board\n  numbers,\n  flippers,\n  colors }) => {\n  let classNameArr = ['sweep-square'];\n\n  if (colors !== null) {\n    classNameArr.push(generateColors({ currTile, colors, skillLevel }), 'disabled');\n    return classNameArr.join(' ');\n  };\n\n  const numberTileOnVictoryDeadOrNotLoggedIn = (timerOn === 'VICTORY' || timerOn === 'FREEZE' || !definedUserName);\n\n  const flagOnNumberTileGamePlay = flippers[currTile] === 'flag';\n\n  classNameArr.push(\n    numberTileOnVictoryDeadOrNotLoggedIn ? 'disabled'\n      : flagOnNumberTileGamePlay ? 'flag'\n        : 'number'\n  );\n\n  // Color Determination\n  const currNum = numbers[currTile];\n\n  classNameArr.push(\n    currNum === 1 ? 'blue-num'\n      : currNum === 2 ? 'green-num'\n        : currNum === 3 ? 'red-num'\n          : currNum === 4 ? 'purple-num'\n            : currNum === 5 ? 'maroon-num'\n              : currNum === 6 ? 'turquoise-num'\n                : currNum === 7 ? 'black-num'\n                  : currNum === 8 ? 'grey-num'\n                    : null\n  );\n\n  return classNameArr.join(' ');\n};\n\nconst genEmptyClassNames = ({\n  // Global\n  skillLevel,\n  definedUserName,\n  timerOn,\n  // Passed in\n  currTile,\n  // Board\n  colors,\n  flippers,\n}) => {\n  let classNameArr = ['sweep-square'];\n\n  if (colors !== null) {\n    classNameArr.push(generateColors({ currTile, colors, skillLevel }), 'disabled');\n    return classNameArr.join(' ');\n  };\n\n  const emptyTileOnVictoryOrDead = (timerOn === 'VICTORY' || timerOn === 'FREEZE');\n  const emptyTileOnNotLoggedIn = !definedUserName;\n  const flagOnEmptyTileGameplay = flippers[currTile] === 'flag';\n  const emptyTileRevealedGameplay = flippers[currTile] === true;\n\n  classNameArr.push(\n    emptyTileOnVictoryOrDead ? 'disabled dark-square'\n      : emptyTileOnNotLoggedIn ? 'disabled'\n        : flagOnEmptyTileGameplay ? 'flag'\n          : emptyTileRevealedGameplay ? 'dark-square'\n            : null\n  );\n  return classNameArr.join(' ');\n};\n\nconst genMineClassNames = ({\n  //Global\n  timerOn,\n  definedUserName,\n  skillLevel,\n  // Passed in\n  currTile,\n  // Board (Local)\n  colors,\n  flippers\n}) => {\n  let classNameArr = ['sweep-square']\n\n  if (colors !== null) {\n    classNameArr.push(generateColors({ currTile, colors, skillLevel }), 'disabled');\n    return classNameArr.join(' ');\n  };\n\n  const flagOnMineTileAfterVictory = timerOn === 'VICTORY' && flippers[currTile] === 'flag';\n\n  const mineTileAfterDead = timerOn === 'FREEZE';\n  const tileIsFlaggedGamePlay = flippers[currTile] === 'flag';\n  const mineTileOnDead = flippers[currTile] === true;\n\n  classNameArr.push(\n    flagOnMineTileAfterVictory ? 'flag disabled'\n      // : (surprised === 'victory' && !definedUserName) ? 'disabled'\n        : mineTileAfterDead ? 'disabled mine'\n          : tileIsFlaggedGamePlay ? 'flag'\n            : mineTileOnDead ? 'mine'\n              : null\n  );\n\n  return classNameArr.join(' ');\n};\n\n\nconst tileRecurse = ({\n  currTile: tile,\n  dimensions,\n  numbers,\n  mines,\n  resultArr\n}) => {\n  resultArr.push(tile)\n  const evalU = tile => (tile - dimensions.horizontalDimension);\n  const evalR = tile => (tile + 1);\n  const evalD = tile => (tile + dimensions.horizontalDimension);\n  const evalL = tile => (tile - 1);\n\n  const testTile = (tile, testFunc) => {\n    return (\n      !numbers[testFunc(tile)]\n      && !mines.includes(testFunc(tile))\n      // && prevFlippers[testFunc(tile)] === false\n      && !resultArr.includes(testFunc(tile))\n      && testFunc(tile) >= 0\n      && testFunc(tile) <= (dimensions.verticalDimension * dimensions.horizontalDimension)\n    )\n  }\n  // ***********\n  //  Going Up\n  // ***********\n\n  if (\n    testTile(tile, evalU)\n  ) {\n    tileRecurse({ currTile: evalU(tile), dimensions, numbers, mines, resultArr });\n  }\n\n  // ***********\n  //  Going Right\n  // ***********\n\n  if (\n    testTile(tile, evalR)\n    && (evalR(tile) % dimensions.horizontalDimension !== 0\n      || (evalR(tile) % dimensions.horizontalDimension === 0 && tile % dimensions.horizontalDimension === 0))\n  ) {\n    tileRecurse({ currTile: evalR(tile), dimensions, numbers, mines, resultArr });\n  }\n\n  // ***********\n  //  Going Down\n  // ***********\n\n  if (\n    testTile(tile, evalD)\n  ) {\n    tileRecurse({ currTile: evalD(tile), dimensions, numbers, mines, resultArr })\n  }\n\n  // ***********\n  //  Going Left\n  // ***********\n\n  if (\n    testTile(tile, evalL)\n    && ((evalL(tile + 1)) % dimensions.horizontalDimension !== 0\n      || (evalL(tile + 1) % dimensions.horizontalDimension === 0 && evalL(tile) % dimensions.horizontalDimension === 0))\n  ) {\n    tileRecurse({ currTile: evalL(tile), dimensions, numbers, mines, resultArr });\n  };\n\n  return resultArr;\n};\n\n\nconst handleClick = ({\n  currTile: tile,\n  indicator,\n  dimensions,\n  mines,\n  numbers,\n  surprised,\n  boardDispatch\n}) => {\n  event.preventDefault();\n  return (indicator === 'dead') ? boardDispatch({ type: 'REVEAL DEAD FLIPPERS' })\n    : (event.type === 'contextmenu') ? boardDispatch({ type: 'SET FLAG FLIPPED', payload: { flagFlipped: tile } })\n      : (event.type === 'click' && indicator !== 'dead') && (!numbers[tile] && !mines.includes(tile)) ?\n        boardDispatch({\n          type: 'FLIP RECURSED TILES',\n          payload: tileRecurse({ currTile: tile, dimensions, numbers, mines, resultArr: [] })\n        })\n        : (event.type === 'click' && indicator !== 'dead') ?\n          boardDispatch({ type: 'FLIP NORMAL TILE', payload: { flippedTile: tile } })\n          : null;\n};\n\nexport {\n  genEmptyClassNames,\n  genNumberClassNames,\n  genMineClassNames,\n  generateLoginMessage,\n  handleClick\n};\n","import React, { useState, useEffect } from 'react';\n\nconst generateMinesEffect = (dimensions, boardDispatch) => {\n  useEffect(() => {\n    boardDispatch({ type: 'GENERATE MINES', payload: dimensions });\n  }, []);\n};\n\nconst stopColorIterationEffect = (colorDelay, boardDispatch) => {\n  useEffect(() => {\n    if (colorDelay === null) {\n      boardDispatch({ type: 'STOP COLOR ITERATION' })\n    };\n  }, [colorDelay]);\n};\n\nconst freezeColorDelayEffect = (definedUserName, boardDispatch) => {\n  useEffect(() => {\n    if (definedUserName) boardDispatch({ type: 'UNSET COLOR DELAY' });\n  }, [definedUserName]);\n};\n\n// This condition resets the board when the smiley face is punched or the skillLevel is changed because timerOn is set to false. It also resets the board if the user changes the skillLevel before playing, which is most likely.\nconst resetGameEffectOnSmileyOrSkill = (timerOn, skillLevel, dimensions, boardDispatch) => {\n  useEffect(() => {\n    if (timerOn === false) {\n      // Set all Tiles to False (hidden)\n      boardDispatch({ type: 'RESET FLIPPERS', payload: Array.from({ length: dimensions.horizontalDimension * dimensions.verticalDimension }, () => false) })\n      // Generate Mines\n      boardDispatch({ type: 'GENERATE MINES', payload: dimensions });\n    };\n  }, [timerOn, dimensions])\n};\n\n\nconst freezeScrollBoardEffect = (scrollBoard) => {\n\n  const preventDefault = (e) => {\n    e = e || window.event\n    if (e.preventDefault) e.preventDefault();\n    e.returnValue = false\n  };\n\n\n  useEffect(_ => {\n    if (scrollBoard) document.addEventListener('wheel', preventDefault, { passive: false });\n    return () => document.removeEventListener('wheel', preventDefault, false);\n  }, [scrollBoard]);\n};\n\n\nconst revealFlipperEffect = ({ mines, flippers, numbers, globalDispatch, boardDispatch }) => {\n  useEffect(() => {\n    if (mines.length && flippers.length && flippers[0] !== 'dead') {\n      // Only store score when all flippers have been flipped (ends recursive loop)\n      if (flippers.every((flipper) => (flipper === true || flipper === 'flag' || mines[flipper]))) {\n        // Stop the clock and indicate a win\n        globalDispatch({ type: 'FREEZE TIMER STATE VICTORY' });\n\n        // If a victory is detected by all numbers being revealed, flip all the empty squares\n      } else if (Object.keys(numbers).every(num => flippers[num] === true)) {\n        boardDispatch({ type: 'REVEAL FLIPPERS', payload: { mines } });\n      }\n    }\n  }, [flippers])\n};\n\n\nconst generateNumberEffect = (mines, { verticalDimension, horizontalDimension }, boardDispatch) => {\n  //When Mines are reset, generate numbers around those mines\n  useEffect(() => {\n    boardDispatch({ type: 'GENERATE NUMBERS', payload: { mines, verticalDimension, horizontalDimension } });\n  }, [mines]);\n};\n\n\nconst resetOnSkillLevelChangeEffect = (skillLevel, globalDispatch) => {\n  // If Skill Level is changed, reset the board.\n  useEffect(() => {\n    globalDispatch({ type: 'SWITCH TIMER OFF' });\n  }, [skillLevel]);\n};\n\n\nconst resetFlagsRemainingOnSkillChangeOrTimerOn = (timerOn, skillLevel, boardDispatch) => {\n  // This resets the flags whenever the skillLevel is changed or game is reset\n\n  useEffect(() => {\n    if (timerOn === false) {\n      boardDispatch({ type: 'SET FLAGS REMAINING', payload: skillLevel === 'beginner' ? 10 : skillLevel === 'intermediate' ? 40 : 99 });\n    };\n  }, [skillLevel, timerOn]);\n};\n\n\nexport default {\n  generateMinesEffect,\n  stopColorIterationEffect,\n  freezeColorDelayEffect,\n  resetGameEffectOnSmileyOrSkill,\n  freezeScrollBoardEffect,\n  revealFlipperEffect,\n  generateNumberEffect,\n  resetOnSkillLevelChangeEffect, resetFlagsRemainingOnSkillChangeOrTimerOn\n};\n\n\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport LeaderBoardEntry from './LeaderBoardEntry.js';\nimport { useGlobalContext } from 'GlobalStore';\nimport './leaderboard.scss';\n\nexport default\n  React.memo(({ ssrTopTimes }) => {\n    const [{ dimensions: { skillLevel }, topTimes }, globalDispatch] = useGlobalContext();\n\n    const [personalized, setPersonalized] = useState(false);\n\n    // Axios Utils--------------------------------\n    const getAllResults = async () => {\n      try {\n        const { data: initTopScores } = await axios('/minesweeper-topTimes', { params: { skillLevel } });\n\n        globalDispatch({ type: 'SET TOP TIMES', payload: { topTimes: initTopScores } });\n\n      } catch (err) {\n        console.error(err);\n      };\n    };\n\n    const getPersonalizedResults = async () => {\n      try {\n        const { data: personalizedResults } = await axios('/minesweeper-topTimes', { params: { skillLevel, username: personalized } });\n        globalDispatch({ type: 'SET TOP TIMES', payload: { topTimes: personalizedResults } });\n      } catch (err) {\n        console.error(err);\n      };\n    };\n\n    useEffect(() => {\n      if (personalized) {\n        getPersonalizedResults()\n      } else {\n        getAllResults()\n      }\n    }, [personalized, skillLevel]);\n\n    const formatTime = (resultTime) => {\n      const centiseconds = (\"0\" + (Math.floor(resultTime / 10) % 100)).slice(-2);\n      const seconds = (\"0\" + (Math.floor(resultTime / 1000) % 60)).slice(-2);\n      const minutes = (\"0\" + (Math.floor(resultTime / 60000) % 60)).slice(-2);\n      const hours = (\"0\" + Math.floor(resultTime / 3600000)).slice(-2);\n\n      return minutes !== '00' ? `${minutes} : ${seconds} . ${centiseconds}`\n        : hours !== '00' ? `${hours} : ${minutes}: ${seconds} . ${centiseconds}`\n          : `${seconds} . ${centiseconds} secs`\n    };\n\n    const handleClick = ({ target: { innerHTML: username } }) => {\n      return username ? setPersonalized(username) : setPersonalized(false);\n    };\n\n    const makeTitle = (personalized, skillLevel) => personalized ? `${personalized}s ${skillLevel} Leaderboard:` : `${skillLevel} Leaderboard`;\n\n    return (\n      <div id='leaderboard'>\n        <h3 className='scores-list' id='leaderboard-header'>{makeTitle(personalized, skillLevel)}</h3>\n        {(topTimes || ssrTopTimes).map((entry, index) => {\n          return entry ? <LeaderBoardEntry key={index} personalized={personalized} index={index} entry={entry} handleClick={handleClick} formatTime={formatTime} /> : null;\n        })}\n        {personalized ? <input type='button' onClick={handleClick} id='return-to-leaderboard' value={`return to ${skillLevel} LeaderBoard`}>\n        </input> : null}\n      </div>\n    )\n  })","import React from 'react';\nimport { useGlobalContext } from 'GlobalStore';\n\nexport default ({ personalized, handleClick, entry: { username, time }, index, formatTime }) => {\n  const [{ definedUserName }] = useGlobalContext();\n\n  const golden = (definedUserName === username);\n\n  return (\n    <div key={index} className={personalized ? 'personalized scores-list' : 'scores-list'}>\n      {/* Number */}\n      <h5 className={golden ? 'golden scores-user' : 'scores-user'} style={{ paddingRight: '5px' }}>\n        {index + 1}.\n      </h5>\n      {/* Name */}\n      <h5 onClick={handleClick} className={golden ? 'golden scores-user' : 'scores-user'}>\n        {username}\n      </h5>\n      {/* Vertical line */}\n      <h5 className={golden ? 'golden scores-user' : 'black-num scores-user'}> | </h5>\n      {/* Time */}\n      <h5 className={golden ? 'golden scores-time' : 'scores-time'}>\n        {formatTime(time)}\n      </h5>\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport postResult from './postResult.js';\nimport { useGlobalContext } from 'GlobalStore';\nimport { useInterval } from 'Components/customHooks.js';\nimport { useTimerContext } from './TimerStore/timerStore.js';\nimport './millisecondstyles.scss';\n\nexport default () => {\n  const [{ dimensions: { skillLevel }, definedUserName, timerOn }, globalDispatch] = useGlobalContext();\n\n  const [{ timerTime }, timerDispatch] = useTimerContext();\n\n  useInterval(() => {\n    timerDispatch({ type: 'ITERATE TIMER TIME', payload: 10 });\n  }, timerOn === true ? 10 : timerOn === 'FREEZE' || timerOn === 'VICTORY' ? -1 : null);\n\n\n  // If Timer is changed to true, start the timer.\n  useEffect(async () => {\n    if (timerOn === false) {\n      timerDispatch({ type: 'CLEAR TIMER TIME' });\n    };\n\n    if (timerOn === 'VICTORY') {\n      const newTopTimes = await postResult(skillLevel, definedUserName, timerTime);\n\n      globalDispatch({ type: 'SET TOP TIMES', payload: { topTimes: newTopTimes } });\n    };\n\n\n\n  }, [timerOn]);\n\n  const centiseconds = (\"0\" + (Math.floor(timerTime / 10) % 100)).slice(-2);\n  const seconds = (\"0\" + (Math.floor(timerTime / 1000) % 60)).slice(-2);\n  const minutes = (\"0\" + (Math.floor(timerTime / 60000) % 60)).slice(-2);\n  const hours = (\"0\" + Math.floor(timerTime / 3600000)).slice(-2);\n\n  return (\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\n      <h4 id='milli-second-timer' className={skillLevel}>\n        {\n          hours !== '00' ?\n            `${hours} : ${minutes} : ${seconds} : ${centiseconds}`\n            : minutes !== '00' ?\n              `${minutes} : ${seconds} : ${centiseconds}`\n              : `${seconds} : ${centiseconds}`\n        }\n      </h4>\n    </div>\n  )\n};","// import { } from './timerActions.js';\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\n\nconst timerTime = (state = 0, { type, payload }) => {\n  switch (type) {\n    case \"ITERATE TIMER TIME\":\n      return state += payload;\n    case \"CLEAR TIMER TIME\":\n      return 0;\n    default:\n      return state;\n  };\n};\n\n\nexport default combineReducers({ timerTime });\n","// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nimport React, { useReducer } from 'react';\nimport CombinedReducers from './timerReducers.js';\n\nconst TimerStoreContext = React.createContext();\n\nconst initialState = { timerTime: 0 };\n\nconst TimerStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n  const store = React.useMemo(() => [state, dispatch], [state]);\n  return (\n    <TimerStoreContext.Provider value={store}>{children}</TimerStoreContext.Provider>\n  );\n};\n\nconst useTimerContext = () => {\n  const context = React.useContext(TimerStoreContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context;\n};\n\n\nexport { useTimerContext, TimerStoreProvider };","import axios from 'axios';\nimport regeneratorRuntime from \"regenerator-runtime\";\n\nexport default async (skillLevel, definedUserName, timerTime) => {\n  const { data: newTopTimes } = await axios.post('/minesweeper-topTimes', null, { params: { skillLevel, definedUserName, timerTime } });\n  return newTopTimes;\n};","import React from 'react';\n// Minesweeper Main Components\nimport Board from 'Components/Board/Board.js';\nimport MilliSecondTimer from 'Components/MillisecondTimer/MillisecondTimer.js';\nimport SkillLevelSelector from 'Components/SkillLevelSelector/SkillLevelSelector.js';\nimport LeaderBoard from 'Components/Leaderboard/LeaderBoard.js';\nimport SmileyBar from 'Components/SmileyBar/SmileyBar.js';\nimport { UserNameStoreProvider } from 'UserNameStore';\nimport { BoardStoreProvider } from 'BoardStore';\nimport { TimerStoreProvider } from 'TimerStore';\nimport UserNameEntry from 'Components/UserNameEntry/UserNameEntry.js';\nimport { useGlobalContext } from 'GlobalStore';\nimport './minesweeper.scss';\n\nexport default ({ ssrTopTimes }) => {\n  const [{ dimensions: { skillLevel } }] = useGlobalContext();\n\n  return (\n    <div className='space-containers'>\n      <UserNameStoreProvider>\n        <UserNameEntry />\n      </UserNameStoreProvider>\n\n      < div className='space-containers' id='main-space-container' >\n        <div id='total-board' className={skillLevel}>\n          <BoardStoreProvider>\n            <SmileyBar />\n            <Board />\n          </BoardStoreProvider>\n        </div>\n        <LeaderBoard ssrTopTimes={ssrTopTimes} />\n\n      </div >\n      <div className='space-containers'>\n\n        <TimerStoreProvider>\n          <MilliSecondTimer />\n        </TimerStoreProvider>\n\n        <SkillLevelSelector />\n      </div>\n    </div >\n  );\n};\n\n\n\n","import React from 'react';\nimport { useGlobalContext } from 'GlobalStore';\nimport './skillstyles.scss';\n\nexport default React.memo(() => {\n  const [{ dimensions: { skillLevel } }, dispatch] = useGlobalContext();\n  return (\n    <div className={skillLevel} id='skill-level-selector'>\n      <button onClick={_ => dispatch({ type: 'SET BEGINNER DIMENSIONS' })}>Beginner</button>\n      <button onClick={_ => dispatch({ type: 'SET INTERMEDIATE DIMENSIONS' })}>Intermediate</button>\n      <button onClick={_ => dispatch({ type: 'SET ADVANCED DIMENSIONS' })}>Expert</button>\n    </div >\n  )\n})","import React, { useState, useEffect } from 'react';\nimport { useBoardContext } from 'BoardStore';\nimport { useGlobalContext } from 'GlobalStore'\nimport './smileystyles.scss'\n\nexport default React.memo(() => {\n\n  const [{ dimensions: { numberOfMines }, timerOn }, globalDispatch] = useGlobalContext();\n\n  const [{ surprised, flagsRemaining }, boardDispatch] = useBoardContext();\n\n  const resetCallback = () => {\n    boardDispatch({ type: 'RESET SMILES' });\n    boardDispatch({ type: 'SET FLAGS REMAINING', payload: numberOfMines });\n    globalDispatch({ type: 'SWITCH TIMER OFF' });\n  };\n\n  return (\n    <div id='smiley-bar'>\n      <div className='smiley-guy'\n        id={\n          surprised === 'dead' ? 'dead-guy'\n            : timerOn === 'VICTORY' ? 'victory-guy'\n              : surprised === true ? 'surprised-guy'\n                : 'smiley-guy'\n        }\n        onClick={resetCallback}></div>\n      <div id='flags-remaining'>{flagsRemaining}</div>\n    </div>\n  );\n});","import React from 'react';\nimport axios from 'axios';\nimport regeneratorRuntime from \"regenerator-runtime\";\nimport { useGlobalContext } from 'GlobalStore';\nimport { useUserNameContext } from 'UserNameStore';\nimport './loginstyles.scss';\n\nexport default () => {\n\n  const [{ dimensions: { skillLevel }, definedUserName }, globalDispatch] = useGlobalContext();\n\n  const [{ userPass, userName }, userNameDispatch] = useUserNameContext();\n\n  // React.useEffect(() => {\n  // }, [userPass, userName, skillLevel, definedUserName]);\n\n  const handleSubmit = async () => {\n    event.preventDefault();\n    const { data: result } = await axios('/minesweeper-validateUser', { params: { userName, userPass } });\n\n    if (result === 'does not exist') {\n      const prompt = window.confirm('User does not exist, Create new user?');\n      if (prompt) {\n        const { data: posted } = await axios.post('/minesweeper-createUser', null, { params: { userName, userPass } });\n        globalDispatch({ type: 'SET DEFINED USERNAME', payload: { userName } });\n      };\n    } else if (result === 'wrong password') {\n      alert('Wrong Password, try again...');\n    } else {\n      globalDispatch({ type: 'SET DEFINED USERNAME', payload: { userName } });\n    };\n  };\n\n  const generateForm = () => {\n    // const [{ userName, userPass }, userNameDispatch] = useUserNameContext();\n\n    return (\n      <form id='login-form' className={skillLevel} onSubmit={handleSubmit}>\n        {definedUserName ? (\n          <>\n            <h5 className='login-header'>{'Logged in as... '}</h5>\n            <h5 className='login-header'>{definedUserName}</h5>\n          </>\n        ) : (\n          <>\n            <input className='login-header' value='Login ->' type='submit'></input>\n            <input type='text' disabled={definedUserName ? true : false} onChange={_ => { userNameDispatch({ type: 'UPDATE USERNAME', payload: event.target.value }) }} value={definedUserName || userName} placeholder='enter username' />\n            <input type='text' placeholder='password' value={userPass} onChange={_ => userNameDispatch({ type: 'UPDATE USERPASS', payload: event.target.value })} />\n          </>\n        )}\n      </form>\n    )\n  };\n\n  return generateForm();\n};","\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\nconst userName = (state = '', { type, payload }) => {\n  switch (type) {\n    case \"UPDATE USERNAME\":\n      return payload;\n    default:\n      return state;\n  };\n};\n\nconst userPass = (state = '', { type, payload }) => {\n  switch (type) {\n    case \"UPDATE USERPASS\":\n      return payload;\n    default:\n      return state;\n  };\n};\n\n\n\nexport default combineReducers({ userName, userPass });\n","import React from 'react';\nimport CombinedReducers from './userNameReducers.js';\n\nconst UserNameContext = React.createContext();\n\nconst initialState = {\n  userName: '',\n  userPass: ''\n};\n\nconst UserNameStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n\n  const store = React.useMemo(() => [state, dispatch], [state]);\n\n  return (\n    <UserNameContext.Provider value={store}>{children}</UserNameContext.Provider>\n  );\n};\n\nfunction useUserNameContext() {\n  const context = React.useContext(UserNameContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider');\n  };\n  return context;\n}\n\n\n\n\nexport { useUserNameContext, UserNameStoreProvider };","// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nimport React from 'react';\n\nconst useInterval = (callback, delay) => {\n  const savedCallback = React.useRef();\n  // Remember the latest callback.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n\n    // If victory is declared or bomb stop the timer...\n    if (delay === -1) {\n      return;\n    };\n\n    // Otherwise...\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);;\n}\n\n\nexport { useInterval };","import express from 'express';\nconst minesweeper = express.Router();\nimport axios from 'axios';\nimport { getResults, postResult, postNewUser, validateUser } from 'Database/controllers/controllers.js';\n\nminesweeper.get('/minesweeper-topTimes', async ({ query: { skillLevel, username } }, res) => {\n  try {\n    const topScores = await getResults(skillLevel, username);\n    res.json(topScores);\n  } catch (err) {\n    console.error(err);\n    res.send(err);\n  }\n})\n\nminesweeper.get('/minesweeper-validateUser', async ({ query: { userName, userPass } }, res) => {\n  try {\n    const test = await validateUser(userName, userPass);\n    if (!test) {\n      res.send('already exists')\n    } else if (test === 'wrong password') {\n      res.send('wrong password')\n    } else {\n      res.send('does not exist');\n    }\n  } catch (err) {\n    console.error(err);\n    res.send(err);\n  }\n});\n\nminesweeper.post('/minesweeper-createUser', async ({ query: { userName, userPass } }, res) => {\n  try {\n    const posted = await postNewUser(userName, userPass);\n    res.send(posted);\n  } catch (err) {\n    res.send(err);\n  }\n});\n\nminesweeper.post('/minesweeper-topTimes', async ({ query: { skillLevel, timerTime, definedUserName } }, res) => {\n  try {\n    const newTopTimes = await postResult(skillLevel, timerTime, definedUserName);\n    res.send(newTopTimes);\n  } catch (err) {\n    res.send(err);\n  }\n});\n\nexport default minesweeper;","const { Cloudfront, DEV_ENV } = process.env;\n\n\nconst htmlStart = (data) => {\n  return (`<!DOCTYPE HTML>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <title>Minesweeper</title>\n        <link rel=\"icon\" type=\"image/png\" href='${Cloudfront}/mine-images/minecon.png'/>\n        <!-- Server Side Rendering of Page Data -->\n        <script>window.__INITIAL__DATA__=${JSON.stringify(data)}</script>\n      </head>\n\n      <script>\n      const devStyleSheetHref = '/static/index.css';\n      const prodStyleSheetHref = '${Cloudfront}/build/public/index.min.css';\n      const [head] = document.getElementsByTagName('HEAD');\n      let link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = (${DEV_ENV} ? devStyleSheetHref : prodStyleSheetHref)\n      head.appendChild(link);\n      </script>\n    <body>\n    <div id=\"minesweeper-root\">`)\n};\n\n\nconst htmlEnd = () => (`</div>\n      <script>\n      const devScriptLink = '/static/index.js';\n      const prodScriptLink = '${Cloudfront}/build/public/public-bundle.js';\n\n      const [body] = document.getElementsByTagName('BODY');\n      let script = document.createElement('script');\n      script.src = (${DEV_ENV} ? devScriptLink : prodScriptLink)\n      body.appendChild(script);\n      </script>\n    </body>\n</html>`);\n\nexport {\n  htmlStart,\n  htmlEnd\n}\n\n\n\n","// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nimport React, { useReducer } from 'react';\nimport CombinedReducers from './globalReducers.js';\n\nconst GlobalStoreContext = React.createContext();\n\nconst initialState = {\n  dimensions: { skillLevel: 'beginner', verticalDimension: 9, horizontalDimension: 9, numberOfMines: 10 },\n  topTimes: [],\n  definedUserName: null,\n  timerOn: false\n};\n\nconst GlobalStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(CombinedReducers, initialState);\n  const store = React.useMemo(() => [state, dispatch], [state]);\n  return (\n    <GlobalStoreContext.Provider value={store}>{children}</GlobalStoreContext.Provider>\n  );\n};\n\nconst useGlobalContext = () => {\n  const context = React.useContext(GlobalStoreContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context;\n};\n\n\nexport { useGlobalContext, GlobalStoreProvider };","const timerOn = (state = false, { type, payload }) => {\n  switch (type) {\n    case \"SWITCH TIMER ON\":\n      return true;\n    case \"SWITCH TIMER OFF\":\n      return false;\n    case \"FREEZE TIMER STATE\":\n        return 'FREEZE';\n    case \"FREEZE TIMER STATE VICTORY\":\n        return 'VICTORY';\n    default:\n      return state;\n  }\n};\n\nconst dimensions = (state = { skillLevel: 'beginner', verticalDimension: 9, horizontalDimension: 9, numberOfMines: 10 }, { type }) => {\n  switch (type) {\n    case \"SET BEGINNER DIMENSIONS\":\n      return { skillLevel: 'beginner', verticalDimension: 9, horizontalDimension: 9, numberOfMines: 10 };\n    case \"SET INTERMEDIATE DIMENSIONS\":\n      return { skillLevel: 'intermediate', verticalDimension: 16, horizontalDimension: 16, numberOfMines: 40 };\n    case 'SET ADVANCED DIMENSIONS':\n      return { skillLevel: 'advanced', verticalDimension: 16, horizontalDimension: 30, numberOfMines: 99 };\n    default:\n      return state;\n  };\n};\n\nconst topTimes = (state = [], {type, payload}) => {\n\n  switch(type) {\n    case \"SET TOP TIMES\":\n      return payload.topTimes;\n    default:\n      return state;\n  }\n};\n\nconst reduceReducers = (...reducers) => {\n  return (state, action) => reducers.reduce((acc, nextReducer) => nextReducer(acc, action), state)\n};\n\nconst definedUserName = (state = null, { type, payload: { userName } = {} }) => {\n  switch (type) {\n    case \"SET DEFINED USERNAME\":\n      return userName;\n    default:\n      return state;\n  }\n}\n\n// const rootReducer = combineReducers({\n//   a: reduceReducers(plusOneReducer, plusOneReducer), // aNew = aOld + 1 + 1\n//   b: reduceReducers(timesTwoReducer, plusOneReducer) // bNew = bOld * 2 + 1\n// });\n\n// mines: reduceReducers(mines, dimensions)\n\nconst combineReducers = (slices) => (state, action) => Object.keys(slices).reduce((acc, prop) => ({\n  ...acc,\n  [prop]: slices[prop](acc[prop], action),\n}),\n  state\n);\n\nexport default combineReducers({\n  dimensions,\n  definedUserName,\n  topTimes,\n  timerOn\n});\n\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = require(\"axios\");","module.exports = require(\"cors\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"regenerator-runtime\");","module.exports = require(\"sequelize\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from 'express';\nimport axios from 'axios';\nimport path from 'path';\nimport React from 'react';\nimport cors from 'cors';\nimport { renderToNodeStream } from 'react-dom/server';\n\nimport Minesweeper from 'Components/Minesweeper/Minesweeper.js';\n\nimport minesweeperRouter from './routes.js';\nimport { getResults } from 'Database/controllers/controllers.js';\nimport { htmlStart, htmlEnd } from './template.js';\nimport { GlobalStoreProvider } from 'GlobalStore';\nconst app = express();\n\napp.use('/static', express.static('dist/public'));\napp.use(/(minesweeper)?/, minesweeperRouter);\n\napp.get('/', async (req, res) => {\n  const topTimes = await getResults();\n  const minesweeperStream = renderToNodeStream(\n    <GlobalStoreProvider>\n      <Minesweeper />\n    </GlobalStoreProvider>\n  );\n\n  res.write(htmlStart({ topTimes: topTimes }));\n  minesweeperStream.pipe(res, { end: false });\n  minesweeperStream.on('end', () => {\n    res.write(htmlEnd());\n    res.end();\n  });\n});\n\n\nconst port = 3500;\napp.listen(port, () => console.log(`Minesweeper App is listening on port ${port}`));\n\n\n\n"],"names":["require","config","path","resolve","Sequelize","sequelize","process","env","PGDATABASE","PGUSER","PGPASSWORD","host","PGHOST","dialect","logging","authenticate","console","error","model","name","database","models","beginnerScores","DataTypes","intermediateScores","advancedScores","userLogins","module","exports","postNewUser","userName","userPass","create","username","res","send","validateUser","findAll","limit","where","loginTest","loginPasswordTest","length","getResults","skillLevel","whereStatement","determinedSkillLevel","order","scoreResults","postResult","time","definedUserName","newTopTimes","log","AdvancedScores","define","type","STRING","INTEGER","timestamps","BeginnerScores","IntermediateScores","UserLogin","React","useState","useEffect","useContext","useCallback","Square","useInterval","BoardHooks","useGlobalContext","useBoardContext","globalState","globalDispatch","flippers","mines","numbers","scrollBoard","colorDelay","boardDispatch","dimensions","timerOn","freezeColorDelayEffect","stopColorIterationEffect","freezeScrollBoardEffect","generateMinesEffect","generateNumberEffect","resetGameEffectOnSmileyOrSkill","resetFlagsRemainingOnSkillChangeOrTimerOn","setScrollBoardCallback","revealFlipperEffect","resetOnSkillLevelChangeEffect","handleScroll","_","payload","newColorDelay","event","deltaY","Array","verticalDimension","map","row","rowIndex","horizontalDimension","sqr","sqrIndex","currTile","iterateColors","existingColors","lastColor","pop","unshift","modulateColorDelay","existing","revealFlippers","existingFlippers","flipper","index","includes","flipNormalTile","flippedTile","splice","flipRecursedTiles","recursedTiles","i","revealDeadFlippers","setFlagFlipped","flagFlipped","generateMines","numberOfMines","mineArr","mineCanidate","Math","floor","random","push","generateNumbers","board","keys","numBoard","forEach","mine","tLD","tD","tRD","bRD","bD","bLD","combineReducers","slices","state","action","Object","reduce","acc","prop","colors","slice","surprised","flagsRemaining","CombinedReducers","BoardContext","createContext","initialState","BoardStoreProvider","children","useReducer","dispatch","store","useMemo","context","undefined","Error","generateLoginMessage","genNumberClassNames","genEmptyClassNames","genMineClassNames","handleClick","memo","tileIsAMine","tileIsANumber","userNotLoggedIn","indicator","button","ctrlKey","preventDefault","t","beginnerMessages","intermediateMessages","advancedMessages","String","substring","generateColors","classNameArr","join","numberTileOnVictoryDeadOrNotLoggedIn","flagOnNumberTileGamePlay","currNum","emptyTileOnVictoryOrDead","emptyTileOnNotLoggedIn","flagOnEmptyTileGameplay","emptyTileRevealedGameplay","flagOnMineTileAfterVictory","mineTileAfterDead","tileIsFlaggedGamePlay","mineTileOnDead","tileRecurse","tile","resultArr","evalU","evalR","evalD","evalL","testTile","testFunc","from","e","window","returnValue","document","addEventListener","passive","removeEventListener","every","num","axios","LeaderBoardEntry","ssrTopTimes","topTimes","personalized","setPersonalized","getAllResults","params","initTopScores","data","getPersonalizedResults","personalizedResults","formatTime","resultTime","centiseconds","seconds","minutes","hours","target","innerHTML","makeTitle","entry","golden","paddingRight","useTimerContext","timerTime","timerDispatch","width","display","justifyContent","TimerStoreContext","TimerStoreProvider","regeneratorRuntime","post","Board","MilliSecondTimer","SkillLevelSelector","LeaderBoard","SmileyBar","UserNameStoreProvider","UserNameEntry","resetCallback","useUserNameContext","userNameDispatch","handleSubmit","result","prompt","confirm","posted","alert","generateForm","value","UserNameContext","callback","delay","savedCallback","useRef","current","tick","id","setInterval","clearInterval","express","minesweeper","Router","get","query","topScores","json","test","Cloudfront","DEV_ENV","htmlStart","JSON","stringify","htmlEnd","GlobalStoreContext","GlobalStoreProvider","reduceReducers","reducers","nextReducer","cors","renderToNodeStream","Minesweeper","minesweeperRouter","app","use","req","minesweeperStream","write","pipe","end","on","port","listen"],"sourceRoot":""}