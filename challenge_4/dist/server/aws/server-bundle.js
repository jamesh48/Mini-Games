(()=>{var n={"./db/config/config.js":(e,r,n)=>{function i(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}n("dotenv").config({path:n("path").resolve(".env")});var c,t=n("sequelize"),s=new t(process.env.PGDATABASE,process.env.PGUSER,process.env.PGPASSWORD,{host:process.env.PGHOST,dialect:"postgres",logging:!1});c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.authenticate();case 3:console.log("Connection has been established successfully."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to connect to the database:",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}),function(){var e=this,o=arguments;new Promise(function(r,n){var t=c.apply(e,o);function s(e){i(t,r,n,s,a,"next",e)}function a(e){i(t,r,n,s,a,"throw",e)}s(void 0)})}();var a=n("./db/models/beginner_scores_model.js")(s,t.DataTypes),o=n("./db/models/intermediate_scores_model.js")(s,t.DataTypes),u=n("./db/models/advanced_scores_model.js")(s,t.DataTypes),t=n("./db/models/user_login_model.js")(s,t.DataTypes);e.exports=database={sequelize:s,models:{beginnerScores:a,intermediateScores:o,advancedScores:u,userLogins:t},model:function(e){return database.models[e]}}},"./db/controllers/controllers.js":(e,r,n)=>{function c(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}function t(i){return function(){var e=this,o=arguments;return new Promise(function(r,n){var t=i.apply(e,o);function s(e){c(t,r,n,s,a,"next",e)}function a(e){c(t,r,n,s,a,"throw",e)}s(void 0)})}}var s,a,o,i,u=n("./db/config/config.js");e.exports={postNewUser:(i=t(regeneratorRuntime.mark(function e(r,n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=u.models.userLogins,e.next=4,t.create({username:r,userPass:n});case 4:return e.abrupt("return","New User Posted!");case 7:e.prev=7,e.t0=e.catch(0),res.send(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,r){return i.apply(this,arguments)}),validateUser:(o=t(regeneratorRuntime.mark(function e(r,n){var t,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=u.models.userLogins,e.next=4,t.findAll({limit:1,where:{username:r}});case 4:return s=e.sent,e.next=7,t.findAll({limit:1,where:{username:r,userPass:n}});case 7:if(a=e.sent,0===s.length||a.length){e.next=10;break}return e.abrupt("return","wrong password");case 10:if(0!==s.length)return e.abrupt("return",!1);e.next=12;break;case 12:return e.abrupt("return",!0);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,15]])})),function(e,r){return o.apply(this,arguments)}),getResults:(a=t(regeneratorRuntime.mark(function e(r,n){var t,s,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=u.models,a=o.beginnerScores,t=o.intermediateScores,s=o.advancedScores,o={},n&&(o.username=n),a="beginner"!==r&&r?"intermediate"===r?t:s:a,e.next=7,a.findAll({where:o,limit:10,order:[["time","ASC"]]});case 7:return o=e.sent,e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])})),function(e,r){return a.apply(this,arguments)}),postResult:(s=t(regeneratorRuntime.mark(function e(r,n,t){var s,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.models,s=o.beginnerScores,a=o.intermediateScores,o=o.advancedScores,o="beginner"===r?s:"intermediate"===r?a:o,e.prev=2,e.next=5,o.create({username:t,time:n});case 5:return e.abrupt("return","ok");case 8:throw e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,8]])})),function(e,r,n){return s.apply(this,arguments)})}},"./db/models/advanced_scores_model.js":e=>{e.exports=function(e,r){return e.define("advanced_scores",{username:{type:r.STRING},time:{type:r.INTEGER}},{timestamps:!1})}},"./db/models/beginner_scores_model.js":e=>{e.exports=function(e,r){return e.define("beginner_scores",{username:{type:r.STRING},time:{type:r.INTEGER}},{timestamps:!1})}},"./db/models/intermediate_scores_model.js":e=>{e.exports=function(e,r){return e.define("intermediate_scores",{username:{type:r.STRING},time:{type:r.INTEGER}},{timestamps:!1})}},"./db/models/user_login_model.js":e=>{e.exports=function(e,r){return e.define("user_logins",{username:{type:r.STRING},userPass:{type:r.STRING}},{timestamps:!1})}},"./src/components/App/App.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var C=n("react"),j=n.n(C),r=n("axios"),T=n.n(r),r=n("regenerator-runtime"),A=n.n(r),L=n("./src/components/Board/Board.js"),R=n("./src/components/MillisecondTimer/MillisecondTimer.js"),D=n("./src/components/SkillLevelSelector/SkillLevelSelector.js"),P=n("./src/components/Leaderboard/LeaderBoard.js"),M=n("./src/components/SmileyBar/SmileyBar.js"),q=n("./src/components/LoginForm/UserNameEntry.js"),O=n("./src/components/useInterval.js");n("./src/components/App/minesweeper.scss");function c(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}function U(i){return function(){var e=this,o=arguments;return new Promise(function(r,n){var t=i.apply(e,o);function s(e){c(t,r,n,s,a,"next",e)}function a(e){c(t,r,n,s,a,"throw",e)}s(void 0)})}}function I(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,s,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);o=!0);}catch(e){i=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw s}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}const s=function(e){var r=I((0,C.useState)("beginner"),2),t=r[0],n=r[1],s=I((0,C.useState)(!1),2),a=s[0],o=s[1],i=I((0,C.useState)(0),2),c=i[0],u=i[1],l=I((0,C.useState)(10),2),m=l[0],d=l[1],f=I((0,C.useState)(!1),2),p=f[0],v=f[1],b=I((0,C.useState)(""),2),y=b[0],g=b[1],r=I((0,C.useState)(""),2),h=r[0],k=r[1],s=I((0,C.useState)(null),2),w=s[0],S=s[1],i=I((0,C.useState)(null),2),x=i[0],E=i[1];(0,C.useEffect)(function(){null===w&&u(0)},[w]),(0,C.useEffect)(U(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(a))return e.next=3,N(a[0]);e.next=5;break;case 3:return e.sent,e.abrupt("return",S(-1));case 5:S(function(){return a&&"bombed"!==a?10:null});case 6:case"end":return e.stop()}},e)})),[a]),(0,O.default)(function(){u(function(e){return e+10})},w),(0,C.useEffect)(function(){!1===a&&d(function(){return"beginner"===t?10:"intermediate"===t?40:99})},[t,a]);var N=function(){var r=U(A().mark(function e(r){var n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().post("/minesweeper-topTimes",null,{params:{skillLevel:t,definedUserName:x,resultTime:r}});case 2:return n=e.sent,n=n.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(e){return r.apply(this,arguments)}}(),l=(0,C.useCallback)(function(e){Array.isArray(e)?o(e):"bomb"===e?o("bombed"):Array.isArray(e)||o(!0)},[]),f=(0,C.useCallback)(function(e){e=e.target.id;return n(e)},[]),b=(0,C.useCallback)(function(e){!0===e&&d(function(e){return e-1}),!1===e&&d(function(e){return e+1})},[]),r=(0,C.useCallback)(function(){v(!1),o(!1)},[]),s=(0,C.useCallback)(function(e){v("victory"===e?"victory":"dead"===e?"dead":"reset"!==e)},[]),i=function(){var e=U(A().mark(function e(){var r,n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return event.preventDefault(),e.next=3,T()("/minesweeper-validateUser",{params:{userName:y,userPass:h}});case 3:if(n=e.sent,"does not exist"!==(r=n.data)){e.next=16;break}if(window.confirm("User does not exist, Create new user?"))return e.next=10,T().post("/minesweeper-createUser",null,{params:{userName:y,userPass:h}});e.next=13;break;case 10:n=e.sent,n.data,E(y);case 13:e.next=17;break;case 16:"wrong password"===r?alert("Wrong Password, try again..."):E(y);case 17:case 18:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return j().createElement("div",{className:"space-containers"},j().createElement(q.default,{userName:y,userPassCallback:function(e){e=e.target.value;return k(e)},userPass:h,handleSubmit:i,userNameCallback:function(e){e=e.target.value;return g(e)},definedUserName:x,skillLevel:t}),j().createElement("div",{className:"space-containers",style:{justifyContent:"center"}},j().createElement("div",{id:"total-board",className:t},j().createElement(M.default,{surprised:p,skillLevel:t,flagsRemaining:m,resetCallback:r}),j().createElement(L.default,{timerTime:c,definedUserName:x,surprised:p,surprisedCallback:s,timerOnCallback:l,timerOn:a,skillLevel:t,resetCallback:r,flagsRemainingCallback:b,flagsRemaining:m})),j().createElement(P.default,{ssrTopTimes:e.ssrTopTimes,definedUserName:x,skillLevel:t,surprised:p})),j().createElement("div",{className:"space-containers"},j().createElement(R.default,{skillLevel:t,timerTime:c}),j().createElement(D.default,{skillLevel:t,skillCallback:f})))}},"./src/components/Board/Board.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});var N=n("react"),C=n.n(N),j=n("./src/components/Board/Squares/GlobalSquare.js"),T=n("./src/components/useInterval.js");n("./src/components/Board/boardstyles.scss");function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,s,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);o=!0);}catch(e){i=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw s}}return a}}(e,r)||t(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){if(e){if("string"==typeof e)return s(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function R(e,r,n){for(var t=[];t.length<e;){var s=Math.floor(Math.random()*(r*n));t.includes(s)||t.push(s)}return t}function D(e,r,s){var a=L(Array(r*s).keys()),o={};return e.forEach(function(e,r,n){var t=s+1;a.includes(e-t)&&(e-t+1)%s!=0&&!n.includes(e-t)&&(o[e-t]?o[e-t]=o[e-t]+1:o[e-t]=1);t=s;a.includes(e-t)&&!n.includes(e-t)&&(o[e-t]?o[e-t]=o[e-t]+1:o[e-t]=1);t=s-1;a.includes(e-t)&&(e-t)%s!=0&&!n.includes(e-t)&&(o[e-t]?o[e-t]=o[e-t]+1:o[e-t]=1),a.includes(e+1)&&(e+1)%s!=0&&!n.includes(e+1)&&(o[e+1]?o[e+1]=o[e+1]+1:o[e+1]=1);t=s+1;a.includes(e+t)&&(e+t)%s!=0&&!n.includes(e+t)&&(o[e+t]?o[e+t]=o[e+t]+1:o[e+t]=1);t=s;a.includes(e+t)&&!n.includes(e+t)&&(o[e+t]?o[e+t]=o[e+t]+1:o[e+t]=1);t=s-1;a.includes(e+t)&&(e+t+1)%s!=0&&!n.includes(e+t)&&(o[e+t]?o[e+t]=o[e+t]+1:o[e+t]=1),a.includes(e-1)&&e%s!=0&&!n.includes(e-1)&&(o[e-1]?o[e-1]=o[e-1]+1:o[e-1]=1)}),o}const a=function(e){var s=e.surprised,a=e.surprisedCallback,r=e.skillLevel,o=e.timerOn,n=e.timerTime,i=e.timerOnCallback,t=e.resetCallback,c=e.flagsRemainingCallback,u=e.definedUserName,e=A((0,N.useState)({verticalDimension:9,horizontalDimension:9,numberOfMines:10}),2),l=e[0],m=e[1],e=A((0,N.useState)(["blue-num","green-num","red-num","black-num","purple-num","maroon-num","turquoise-num","golden","grey-num"]),2),d=e[0],f=e[1],e=A((0,N.useState)(50),2),p=e[0],v=e[1],e=A((0,N.useState)(Array.from({length:l.horizontalDimension*l.verticalDimension},function(){return!1})),2),b=e[0],y=e[1],e=A((0,N.useState)(R(l.numberOfMines,l.verticalDimension,l.horizontalDimension)),2),g=e[0],h=e[1],e=A((0,N.useState)(D(g,l.verticalDimension,l.horizontalDimension)),2),k=e[0],w=e[1];(0,N.useEffect)(function(){m("beginner"===r?{verticalDimension:4,horizontalDimension:4,numberOfMines:1}:"intermediate"===r?{verticalDimension:16,horizontalDimension:16,numberOfMines:40}:{verticalDimension:16,horizontalDimension:30,numberOfMines:99})},[r]),(0,T.default)(function(){f(function(e){var r=e.pop();return e.unshift(r),L(e)})},p),(0,N.useEffect)(function(){null===p&&f(null)},[p]),(0,N.useEffect)(function(){u&&v(null)},[u]);var S=(0,N.useCallback)(function(e){if(6<=e&&e<=9||15<=e&&e<=19||25<e){var r=A(d,9),n=r[0],t=r[1],s=r[2],a=r[3],o=r[4],i=r[5],c=r[6],u=r[7],r=r[8];return e%10?(e-1)%10?(e-2)%10?(e-3)%10?(e-4)%10?(e-5)%10?(e-6)%10&&27!==e?(e-7)%10&&18!==e&&28!==e?(e-9)%10&&8!==e?null:r:u:c:i:o:a:s:t:n}},[d]),x=(0,N.useCallback)(function(e){if("beginner"===r)return 0===e?"P":1===e?"l":2===e?"e":3===e?"a":4===e?"s":5===e?"e":10===e?"L":11===e?"o":12===e?"g":13===e?"i":14===e?"n":20===e?"F":21===e?"i":22===e?"r":23===e?"s":24===e?"t":25===e?"!":e<36?"*":null},[]);(0,N.useEffect)(function(){!1===o&&(y(Array.from({length:l.horizontalDimension*l.verticalDimension},function(){return!1})),h(R(l.numberOfMines,l.verticalDimension,l.horizontalDimension)))},[o,r]),(0,N.useEffect)(function(){t()},[r]),(0,N.useEffect)(function(){w(D(g,l.verticalDimension,l.horizontalDimension))},[g]),(0,N.useEffect)(function(){"dead"!==b[0]&&(b.every(function(e){return!0===e||"flag"===e||g[e]})?(i([n]),setTimeout(function(){a("victory")},500)):Object.keys(k).every(function(e){return!0===b[e]})&&y(function(e){return L(e=e.map(function(e,r){return"flag"!==e&&!g.includes(r)||"flag"}))}))},[b]);var E=(0,N.useCallback)(function(r,e){event.preventDefault(),"dead"===e?y(function(e){return L(e=e.map(function(e,r){return 0!==r||"dead"}))}):"contextmenu"===event.type&&y(function(e){return"flag"===e[r]?e.splice(r,1,!1):e.splice(r,1,"flag"),L(e)}),"click"===event.type&&"dead"!==e&&(k[r]||g.includes(r)?y(function(e){return e.splice(r,1,!0),L(e)}):function o(i){y(function(n){n.splice(i,1,!0);function e(e){return e-l.horizontalDimension}function r(e){return e+1}function t(e){return e+l.horizontalDimension}function s(e){return e-1}function a(e,r){return!k[r(e)]&&!g.includes(r(e))&&!1===n[r(e)]&&0<=r(e)&&r(e)<=l.verticalDimension*l.horizontalDimension}return a(i,e)&&o(e(i)),a(i,r)&&(r(i)%l.horizontalDimension!=0||r(i)%l.horizontalDimension==0&&i%l.horizontalDimension==0)&&o(r(i)),a(i,t)&&o(t(i)),a(i,s)&&(s(i+1)%l.horizontalDimension!=0||s(i+1)%l.horizontalDimension==0&&s(i)%l.horizontalDimension==0)&&o(s(i)),L(n)})}(r))},[s]);return C().createElement("div",null,L(new Array(l.verticalDimension)).map(function(e,t){return C().createElement("div",{key:t,className:"sweep-row"},L(new Array(l.horizontalDimension)).map(function(e,r){var n=t*l.horizontalDimension+r;return C().createElement(j.default,{key:r,sqrIndex:r,flippers:b,currCanidate:n,definedUserName:u,mines:g,numbers:k,colors:d,surprised:s,timerOn:o,flagsRemainingCallback:c,surprisedCallback:a,timerOnCallback:i,generateColors:S,genLoginMessage:x,handleClick:E})}))}))}},"./src/components/Board/Squares/GlobalSquare.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>t});var r=n("react"),b=n.n(r),r=n("./src/components/Board/Squares/squareUtils.js"),r=n.n(r),y=(n("./src/components/Board/Squares/sweepsquarestyles.scss"),r().genNumberClassNames),g=r().genEmptyClassNames,h=r().genMineClassNames;const t=b().memo(function(e){var r=e.sqrIndex,n=e.colors,t=e.surprised,s=e.currCanidate,a=e.definedUserName,o=e.flippers,i=e.mines,c=e.numbers,u=e.generateColors,l=e.genLoginMessage,m=e.handleClick,d=e.surprisedCallback,f=e.flagsRemainingCallback,p=e.timerOnCallback,v=e.timerOn;return b().createElement("div",{key:r,"data-testid":"test-".concat(s),onClick:function(){return i.includes(s)?(p("bomb"),m(s,"dead")):("flag"===o[s]&&f(!1),!1===v&&(p(),m(s)),m(s))},onMouseDown:function(){o[s]||d()},onMouseUp:function(){if(i.includes(s)&&0===event.button&&!event.ctrlKey)return d("dead");d("reset")},onContextMenu:function(){if(!0!==o[s])return f(!1===o[s]||!1),m(s);event.preventDefault()},className:i.includes(s)?h(s,n,u,t,o,a):c[s]?y(s,c,o,n,u,t,a):g(s,n,u,t,o,a)},a?o[s]&&"flag"!==o[s]&&c[s]?c[s]:i.includes(s)&&o[s]&&"flag"!==o[s]?"*":null:l(s))})},"./src/components/Board/Squares/squareUtils.js":e=>{e.exports={genNumberClassNames:function(e,r,n,t,s,a,o){var i=["sweep-square"];if(null!==t)return i.push(s(e),"disabled"),i.join(" ");i.push("victory"!==a&&"dead"!==a&&o?"flag"===n[e]?"flag":"number":"disabled");e=r[e];return i.push(1===e?"blue-num":2===e?"green-num":3===e?"red-num":4===e?"purple-num":5===e?"maroon-num":6===e?"turquoise-num":7===e?"black-num":8===e?"grey-num":null),o||i.pop(),i.join(" ")},genEmptyClassNames:function(e,r,n,t,s,a){var o=["sweep-square"];return null!==r?o.push(n(e),"disabled"):o.push("victory"===t||"dead"===t?"disabled dark-square":a?"flag"===s[e]?"flag":!0===s[e]?"dark-square":null:"disabled"),o.join(" ")},genMineClassNames:function(e,r,n,t,s,a){var o=["sweep-square"];return null!==r?o.push(n(e),"disabled"):o.push("victory"===t&&"flag"===s[e]?"flag disabled":"victory"!==t||a?"dead"===t?"disabled mine":"flag"===s[e]?"flag":!0===s[e]?"mine":null:"disabled"),o.join(" ")}}},"./src/components/Leaderboard/LeaderBoard.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var v=n("react"),b=n.n(v),r=n("axios"),y=n.n(r),g=n("./src/components/Leaderboard/LeaderBoardEntry.js");n("./src/components/Leaderboard/leaderboard.scss");function c(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}function h(i){return function(){var e=this,o=arguments;return new Promise(function(r,n){var t=i.apply(e,o);function s(e){c(t,r,n,s,a,"next",e)}function a(e){c(t,r,n,s,a,"throw",e)}s(void 0)})}}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,s,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);o=!0);}catch(e){i=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw s}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}const s=b().memo(function(e){var r=e.ssrTopTimes,n=e.skillLevel,t=e.surprised,s=e.definedUserName,a=k((0,v.useState)([]),2),e=a[0],o=a[1],a=k((0,v.useState)(!1),2),i=a[0],c=a[1],u=function(){var e=h(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y()("/minesweeper-topTimes",{params:{skillLevel:n}});case 3:r=e.sent,r=r.data,o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=h(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y()("/minesweeper-topTimes",{params:{skillLevel:n,username:i}});case 3:r=e.sent,r=r.data,o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)(function(){if("victory"===t)return(i?l:u)()},[t,s]),(0,v.useEffect)(function(){return(i?l:u)()},[i,n]);function m(e){var r=("0"+Math.floor(e/10)%100).slice(-2),n=("0"+Math.floor(e/1e3)%60).slice(-2),t=("0"+Math.floor(e/6e4)%60).slice(-2),e=("0"+Math.floor(e/36e5)).slice(-2);return"00"!==t?"".concat(t," : ").concat(n," . ").concat(r):"00"!==e?"".concat(e," : ").concat(t,": ").concat(n," . ").concat(r):"".concat(n," . ").concat(r," secs")}function d(e){return e=e.target.innerHTML,c(e||!1)}var f,p;return b().createElement("div",{id:"leaderboard"},b().createElement("h3",{className:"scores-list",id:"leaderboard-header"},(p=n,(f=i)?"".concat(f,"s ").concat(p," Leaderboard:"):"".concat(p," Leaderboard"))),(e||r).map(function(e,r){return e?b().createElement(g.default,{key:r,definedUserName:s,personalized:i,index:r,entry:e,handleClick:d,formatTime:m}):null}),i?b().createElement("input",{type:"button",onClick:d,id:"return-to-leaderboard",value:"return to ".concat(n," LeaderBoard")}):null)})},"./src/components/Leaderboard/LeaderBoardEntry.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>t});var r=n("react"),i=n.n(r);const t=function(e){var r=e.definedUserName,n=e.personalized,t=e.handleClick,s=e.entry,a=s.username,o=s.time,s=e.index,e=e.formatTime,r=r===a;return i().createElement("div",{key:s,className:n?"personalized scores-list":"scores-list"},i().createElement("h5",{className:r?"golden scores-user":"scores-user",style:{paddingRight:"5px"}},s+1,"."),i().createElement("h5",{onClick:t,className:r?"golden scores-user":"scores-user"},a),i().createElement("h5",{className:r?"golden scores-user":"black-num scores-user"}," | "),i().createElement("h5",{className:r?"golden scores-time":"scores-time"},e(o)))}},"./src/components/LoginForm/UserNameEntry.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>t});var r=n("react"),l=n.n(r);n("./src/components/LoginForm/loginstyles.scss");n=function(e,r){return e.definedUserName&&(JSON.stringify(e.userNameCallback===r.userNameCallback)||JSON.stringify(e.handleSubmit)===JSON.stringify(r.handleSubmit)||JSON.stringify(e.userPassCallback)===JSON.stringify(r.userPassCallback))};const t=l().memo(function(e){var r,n,t,s=e.userPass,a=e.userPassCallback,o=e.userName,i=e.userNameCallback,c=e.handleSubmit,u=e.definedUserName,e=e.skillLevel;return l().createElement("form",{id:"login-form",className:e,onSubmit:c},u?l().createElement(l().Fragment,null,l().createElement("h5",{className:"login-header"},"Logged in as... "),l().createElement("h5",{className:"login-header"},u)):l().createElement(l().Fragment,null,l().createElement("input",{className:"login-header",value:"Login ->",type:"submit"}),l().createElement("input",(t=o,(n="value")in(r={type:"text",disabled:!!u,onChange:i,value:u||o,placeholder:"enter username"})?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r)),l().createElement("input",{type:"text",placeholder:"password",value:s,onChange:a})))},n)},"./src/components/MillisecondTimer/MillisecondTimer.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>t});var r=n("react"),a=n.n(r);n("./src/components/MillisecondTimer/millisecondstyles.scss");const t=function(e){var r=e.timerTime,n=(e.timerOnCallback,e.skillLevel),t=("0"+Math.floor(r/10)%100).slice(-2),s=("0"+Math.floor(r/1e3)%60).slice(-2),e=("0"+Math.floor(r/6e4)%60).slice(-2),r=("0"+Math.floor(r/36e5)).slice(-2);return a().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},a().createElement("h4",{id:"milli-second-timer",className:n},("00"!==r?"".concat(r," : ").concat(e," : "):"00"!==e?"".concat(e," : "):"").concat(s," : ").concat(t)))}},"./src/components/SkillLevelSelector/SkillLevelSelector.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var r=n("react"),t=n.n(r);n("./src/components/SkillLevelSelector/skillstyles.scss");const s=t().memo(function(e){var r=e.skillCallback,e=e.skillLevel;return t().createElement("div",{className:e,id:"skill-level-selector"},t().createElement("button",{id:"beginner",onClick:r},"Beginner"),t().createElement("button",{id:"intermediate",onClick:r},"Intermediate"),t().createElement("button",{id:"advanced",onClick:r},"Expert"))})},"./src/components/SmileyBar/SmileyBar.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var r=n("react"),t=n.n(r);n("./src/components/SmileyBar/smileystyles.scss");const s=t().memo(function(e){var r=e.surprised,n=e.flagsRemaining,e=e.resetCallback;return t().createElement("div",{id:"smiley-bar"},t().createElement("div",{className:"smiley-guy",id:"dead"===r?"dead-guy":"victory"===r?"victory-guy":!0===r?"surprised-guy":"smiley-guy",onClick:e}),t().createElement("div",{id:"flags-remaining"},n))})},"./src/components/useInterval.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var t=n("react");const s=function(e,r){var n=(0,t.useRef)();(0,t.useEffect)(function(){n.current=e},[e]),(0,t.useEffect)(function(){if(-1!==r&&null!==r){var e=setInterval(function(){n.current()},r);return function(){return clearInterval(e)}}},[r])}},"./src/ssr-server/routes.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});var t=n("express"),r=n.n(t),o=(n("axios"),n("./db/controllers/controllers.js"));function c(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}function s(i){return function(){var e=this,o=arguments;return new Promise(function(r,n){var t=i.apply(e,o);function s(e){c(t,r,n,s,a,"next",e)}function a(e){c(t,r,n,s,a,"throw",e)}s(void 0)})}}r=r().Router();r.get("/minesweeper-topTimes",function(){var n=s(regeneratorRuntime.mark(function e(r,n){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.query,t=s.skillLevel,s=s.username,e.prev=1,e.next=4,(0,o.getResults)(t,s);case 4:s=e.sent,n.json(s),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),n.send(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,r){return n.apply(this,arguments)}}()),r.get("/minesweeper-validateUser",function(){var n=s(regeneratorRuntime.mark(function e(r,n){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.query,t=s.userName,s=s.userPass,e.prev=1,e.next=4,(0,o.validateUser)(t,s);case 4:(s=e.sent)?"wrong password"===s?n.send("wrong password"):n.send("does not exist"):n.send("already exists"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),n.send(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,r){return n.apply(this,arguments)}}()),r.post("/minesweeper-createUser",function(){var n=s(regeneratorRuntime.mark(function e(r,n){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.query,t=s.userName,s=s.userPass,e.prev=1,e.next=4,(0,o.postNewUser)(t,s);case 4:s=e.sent,n.send(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.send(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,r){return n.apply(this,arguments)}}()),r.post("/minesweeper-topTimes",function(){var n=s(regeneratorRuntime.mark(function e(r,n){var t,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.query,t=a.skillLevel,s=a.resultTime,a=a.definedUserName,e.prev=1,e.next=4,(0,o.postResult)(t,s,a);case 4:n.send("ok"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n.send(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(e,r){return n.apply(this,arguments)}}());const a=r},"./src/ssr-server/template.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>s});var t=process.env.Cloudfront;const s={htmlStart:function(e){return'<!DOCTYPE HTML>\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <title>Minesweeper</title>\n        <link rel="icon" type="image/png" href=\''.concat(t,"/mine-images/minecon.png'/>\n        <link rel='stylesheet' href='").concat(t,"/build/public/index.min.css'/>\n        \x3c!-- Server Side Rendering of Page Data --\x3e\n        <script>window.__INITIAL__DATA__=").concat(JSON.stringify(e),'<\/script>\n      </head>\n    <body>\n    <div id="minesweeper-root">\n    ')},htmlEnd:"\n      </div>\n      \x3c!-- <script src='".concat(t,"/build/public/public-bundle.js'><\/script> --\x3e\n      <script src='/static/index.js'><\/script>\n    </body>\n</html>\n")}},"./src/components/App/minesweeper.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/Board/Squares/sweepsquarestyles.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/Board/boardstyles.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/Leaderboard/leaderboard.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/LoginForm/loginstyles.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/MillisecondTimer/millisecondstyles.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/SkillLevelSelector/skillstyles.scss":(e,r,n)=>{"use strict";n.r(r)},"./src/components/SmileyBar/smileystyles.scss":(e,r,n)=>{"use strict";n.r(r)},axios:e=>{"use strict";e.exports=require("axios")},cors:e=>{"use strict";e.exports=require("cors")},dotenv:e=>{"use strict";e.exports=require("dotenv")},express:e=>{"use strict";e.exports=require("express")},path:e=>{"use strict";e.exports=require("path")},react:e=>{"use strict";e.exports=require("react")},"react-dom/server":e=>{"use strict";e.exports=require("react-dom/server")},"regenerator-runtime":e=>{"use strict";e.exports=require("regenerator-runtime")},sequelize:e=>{"use strict";e.exports=require("sequelize")}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;r=t[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return s.d(r,{a:r}),r},s.d=(e,r)=>{for(var n in r)s.o(r,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";s.r(i);var e=s("express"),r=s.n(e),e=(s("axios"),s("path")),n=s("react"),a=s.n(n),e=s("cors"),o=s("react-dom/server"),c=s("./src/components/App/App.js"),n=s("./src/ssr-server/routes.js"),u=s("./db/controllers/controllers.js"),e=s("./src/ssr-server/template.js");function l(e,r,n,t,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?r(c):Promise.resolve(c).then(t,s)}var m=e.default.htmlStart,d=e.default.htmlEnd,e=r()();e.use("/static",r().static("dist/public")),e.use(/(minesweeper)?/,n.default),e.get("/",function(){var i,n=(i=regeneratorRuntime.mark(function e(r,n){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getResults)();case 2:t=e.sent,s=(0,o.renderToNodeStream)(a().createElement(c.default,null)),n.write(m({topTimes:t})),s.pipe(n,{end:!1}),s.on("end",function(){n.write(d),n.end()});case 7:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(r,n){var t=i.apply(e,o);function s(e){l(t,r,n,s,a,"next",e)}function a(e){l(t,r,n,s,a,"throw",e)}s(void 0)})});return function(e,r){return n.apply(this,arguments)}}()),e.listen(3500,function(){"Minesweeper App is listening on port-> ".concat(3500)})})()})();